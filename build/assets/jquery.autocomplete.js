//# sourceMappingURL=jquery.autocomplete.js.map
(function(d){d.fn.extend({autocomplete:function(a,b){var t="string"==typeof a;b=d.extend({},d.Autocompleter.defaults,{url:t?a:null,data:t?null:a,delay:t?d.Autocompleter.defaults.delay:10,max:b&&!b.scroll?10:150},b);b.highlight=b.highlight||function(a){return a};b.formatMatch=b.formatMatch||b.formatItem;return this.each(function(){new d.Autocompleter(this,b)})},result:function(a){return this.bind("result",a)},search:function(a){return this.trigger("search",[a])},flushCache:function(){return this.trigger("flushCache")},
setOptions:function(a){return this.trigger("setOptions",[a])},unautocomplete:function(){return this.trigger("unautocomplete")}});d.Autocompleter=function(a,b){function t(){var x=p.selected();if(!x)return!1;var c=x.result;u=c;if(b.multiple){var m=r(f.val());if(1<m.length){var e=b.multipleSeparator.length,h=d(a).selection().start,k,w=0;d.each(m,function(a,b){w+=b.length;if(h<=w)return k=a,!1;w+=e});m[k]=c;c=m.join(b.multipleSeparator)}c+=b.multipleSeparator}f.val(c);l();f.trigger("result",[x.data,x.value]);
return!0}function g(a,d){if(m==c.DEL)p.hide();else if(a=f.val(),d||a!=u)u=a,a=n(a),a.length>=b.minChars?(f.addClass(b.loadingClass),b.matchCase||(a=a.toLowerCase()),e(a,h,l)):(f.removeClass(b.loadingClass),p.hide())}function r(a){return a?b.multiple?d.map(a.split(b.multipleSeparator),function(b){return d.trim(a).length?d.trim(b):null}):[d.trim(a)]:[""]}function n(c){if(!b.multiple)return c;var m=r(c);if(1==m.length)return m[0];m=d(a).selection().start;m=m==c.length?r(c):r(c.replace(c.substring(m),
""));return m[m.length-1]}function l(){p.visible();p.hide();clearTimeout(v);f.removeClass(b.loadingClass);b.mustMatch&&f.search(function(a){a||(b.multiple?(a=r(f.val()).slice(0,-1),f.val(a.join(b.multipleSeparator)+(a.length?b.multipleSeparator:""))):(f.val(""),f.trigger("result",null)))})}function h(e,h){h&&h.length&&k?(f.removeClass(b.loadingClass),p.display(h,e),h=h[0].value,b.autoFill&&n(f.val()).toLowerCase()==e.toLowerCase()&&m!=c.BACKSPACE&&(f.val(f.val()+h.substring(n(u).length)),d(a).selection(u.length,
u.length+h.length)),p.show()):l()}function e(c,m,h){b.matchCase||(c=c.toLowerCase());var e=q.load(c);if(e&&e.length)m(c,e);else if("string"==typeof b.url&&0<b.url.length){var f={timestamp:+new Date};d.each(b.extraParams,function(a,b){f[a]="function"==typeof b?b():b});d.ajax({mode:"abort",port:"autocomplete"+a.name,dataType:b.dataType,url:b.url,data:d.extend({q:n(c),limit:b.max},f),success:function(a){var e;if(!(e=b.parse&&b.parse(a))){e=[];a=a.split("\n");for(var h=0;h<a.length;h++){var f=d.trim(a[h]);
f&&(f=f.split("|"),e[e.length]={data:f,value:f[0],result:b.formatResult&&b.formatResult(f,f[0])||f[0]})}}q.add(c,e);m(c,e)}})}else p.emptyList(),h(c)}var c={UP:38,DOWN:40,DEL:46,TAB:9,RETURN:13,ESC:27,COMMA:188,PAGEUP:33,PAGEDOWN:34,BACKSPACE:8},f=d(a).attr("autocomplete","off").addClass(b.inputClass),v,u="",q=d.Autocompleter.Cache(b),k=0,m,w={mouseDownOnSelect:!1},p=d.Autocompleter.Select(b,a,t,w),y;d.browser.opera&&d(a.form).bind("submit.autocomplete",function(){if(y)return y=!1});f.bind((d.browser.opera?
"keypress":"keydown")+".autocomplete",function(a){k=1;m=a.keyCode;switch(a.keyCode){case c.UP:p.visible()?(a.preventDefault(),p.prev()):g(0,!0);break;case c.DOWN:p.visible()?(a.preventDefault(),p.next()):g(0,!0);break;case c.PAGEUP:p.visible()?(a.preventDefault(),p.pageUp()):g(0,!0);break;case c.PAGEDOWN:p.visible()?(a.preventDefault(),p.pageDown()):g(0,!0);break;case b.multiple&&","==d.trim(b.multipleSeparator)&&c.COMMA:case c.TAB:case c.RETURN:if(t())return a.preventDefault(),y=!0,!1;break;case c.ESC:p.hide();
break;default:clearTimeout(v),v=setTimeout(g,b.delay)}}).focus(function(){k++}).blur(function(){k=0;w.mouseDownOnSelect||(clearTimeout(v),v=setTimeout(l,200))}).click(function(){b.clickFire?p.visible()||g(0,!0):1<k++&&!p.visible()&&g(0,!0)}).bind("search",function(){function a(c,m){var e;if(m&&m.length)for(var d=0;d<m.length;d++)if(m[d].result.toLowerCase()==c.toLowerCase()){e=m[d];break}"function"==typeof b?b(e):f.trigger("result",e&&[e.data,e.value])}var b=1<arguments.length?arguments[1]:null;d.each(r(f.val()),
function(b,c){e(c,a,a)})}).bind("flushCache",function(){q.flush()}).bind("setOptions",function(a,c){d.extend(!0,b,c);"data"in c&&q.populate()}).bind("unautocomplete",function(){p.unbind();f.unbind();d(a.form).unbind(".autocomplete")})};d.Autocompleter.defaults={inputClass:"ac_input",resultsClass:"ac_results",loadingClass:"ac_loading",minChars:1,delay:400,matchCase:!1,matchSubset:!0,matchContains:!1,cacheLength:100,max:1E3,mustMatch:!1,extraParams:{},selectFirst:!0,formatItem:function(a){return a[0]},
formatMatch:null,autoFill:!1,width:0,multiple:!1,multipleSeparator:" ",inputFocus:!0,clickFire:!1,highlight:function(a,b){return a.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+b.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,"\\$1")+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>")},scroll:!0,scrollHeight:180};d.Autocompleter.Cache=function(a){function b(b,e){a.matchCase||(b=b.toLowerCase());var c=b.indexOf(e);"word"==a.matchContains&&(c=b.toLowerCase().search("\\b"+e.toLowerCase()));return-1==
c?!1:0==c||a.matchContains}function t(b,e){l>a.cacheLength&&r();n[b]||l++;n[b]=e}function g(){if(!a.data)return!1;var b={},e=0;a.url||(a.cacheLength=1);b[""]=[];for(var c=0,f=a.data.length;c<f;c++){var g=a.data[c],g="string"==typeof g?[g]:g,l=a.formatMatch(g,c+1,a.data.length);if(!1!==l){var n=l.charAt(0).toLowerCase();b[n]||(b[n]=[]);g={value:l,data:g,result:a.formatResult&&a.formatResult(g)||l};b[n].push(g);e++<a.max&&b[""].push(g)}}d.each(b,function(b,c){a.cacheLength++;t(b,c)})}function r(){n=
{};l=0}var n={},l=0;setTimeout(g,25);return{flush:r,add:t,populate:g,load:function(h){if(!a.cacheLength||!l)return null;if(!a.url&&a.matchContains){var e=[],c;for(c in n)if(0<c.length){var f=n[c];d.each(f,function(a,c){b(c.value,h)&&e.push(c)})}return e}if(n[h])return n[h];if(a.matchSubset)for(c=h.length-1;c>=a.minChars;c--)if(f=n[h.substr(0,c)])return e=[],d.each(f,function(a,c){b(c.value,h)&&(e[e.length]=c)}),e;return null}}};d.Autocompleter.Select=function(a,b,t,g){function r(){u&&(q=d("<div/>").hide().addClass(a.resultsClass).css("position",
"absolute").appendTo(document.body).hover(function(a){d(this).is(":visible")&&b.focus();g.mouseDownOnSelect=!1}),k=d("<ul/>").appendTo(q).mouseover(function(a){n(a).nodeName&&"LI"==n(a).nodeName.toUpperCase()&&(c=d("li",k).removeClass(h.ACTIVE).index(n(a)),d(n(a)).addClass(h.ACTIVE))}).click(function(c){d(n(c)).addClass(h.ACTIVE);t();a.inputFocus&&b.focus();return!1}).mousedown(function(){g.mouseDownOnSelect=!0}).mouseup(function(){g.mouseDownOnSelect=!1}),0<a.width&&q.css("width",a.width),u=!1)}
function n(a){for(a=a.target;a&&"LI"!=a.tagName;)a=a.parentNode;return a?a:[]}function l(b){e.slice(c,c+1).removeClass(h.ACTIVE);c+=b;0>c?c=e.size()-1:c>=e.size()&&(c=0);b=e.slice(c,c+1).addClass(h.ACTIVE);if(a.scroll){var d=0;e.slice(0,c).each(function(){d+=this.offsetHeight});d+b[0].offsetHeight-k.scrollTop()>k[0].clientHeight?k.scrollTop(d+b[0].offsetHeight-k.innerHeight()):d<k.scrollTop()&&k.scrollTop(d)}}var h={ACTIVE:"ac_over"},e,c=-1,f,v="",u=!0,q,k;return{display:function(b,g){r();f=b;v=g;
k.empty();b=f.length;b=a.max&&a.max<b?a.max:b;for(g=0;g<b;g++)if(f[g]){var l=a.formatItem(f[g].data,g+1,b,f[g].value,v);!1!==l&&(l=d("<li/>").html(a.highlight(l,v)).addClass(0==g%2?"ac_even":"ac_odd").appendTo(k)[0],d.data(l,"ac_data",f[g]))}e=k.find("li");a.selectFirst&&(e.slice(0,1).addClass(h.ACTIVE),c=0);d.fn.bgiframe&&k.bgiframe()},next:function(){l(1)},prev:function(){l(-1)},pageUp:function(){0!=c&&0>c-8?l(-c):l(-8)},pageDown:function(){c!=e.size()-1&&c+8>e.size()?l(e.size()-1-c):l(8)},hide:function(){q&&
q.hide();e&&e.removeClass(h.ACTIVE);c=-1},visible:function(){return q&&q.is(":visible")},current:function(){return this.visible()&&(e.filter("."+h.ACTIVE)[0]||a.selectFirst&&e[0])},show:function(){var c=d(b).offset();q.css({width:"string"==typeof a.width||0<a.width?a.width:d(b).width(),top:c.top+b.offsetHeight,left:c.left}).show();if(a.scroll&&(k.scrollTop(0),k.css({maxHeight:a.scrollHeight,overflow:"auto"}),d.browser.msie&&"undefined"===typeof document.body.style.maxHeight)){var f=0;e.each(function(){f+=
this.offsetHeight});c=f>a.scrollHeight;k.css("height",c?a.scrollHeight:f);c||e.width(k.width()-parseInt(e.css("padding-left"))-parseInt(e.css("padding-right")))}},selected:function(){var a=e&&e.filter("."+h.ACTIVE).removeClass(h.ACTIVE);return a&&a.length&&d.data(a[0],"ac_data")},emptyList:function(){k&&k.empty()},unbind:function(){q&&q.remove()}}};d.fn.selection=function(a,b){if(void 0!==a)return this.each(function(){if(this.createTextRange){var d=this.createTextRange();void 0===b||a==b?d.move("character",
a):(d.collapse(!0),d.moveStart("character",a),d.moveEnd("character",b));d.select()}else this.setSelectionRange?this.setSelectionRange(a,b):this.selectionStart&&(this.selectionStart=a,this.selectionEnd=b)});var d=this[0];if(d.createTextRange){var g=document.selection.createRange(),r=d.value,n=g.text.length;g.text="<->";g=d.value.indexOf("<->");d.value=r;this.selection(g,g+n);return{start:g,end:g+n}}if(void 0!==d.selectionStart)return{start:d.selectionStart,end:d.selectionEnd}}})(jQuery);