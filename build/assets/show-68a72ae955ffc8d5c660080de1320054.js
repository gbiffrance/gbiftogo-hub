//# sourceMappingURL=show.js.map
void 0===jQuery.migrateMute&&(jQuery.migrateMute=!0);
(function(a,d,g){function f(b){var c=d.console;h[b]||(h[b]=!0,a.migrateWarnings.push(b),c&&c.warn&&!a.migrateMute&&(c.warn("JQMIGRATE: "+b),a.migrateTrace&&c.trace&&c.trace()))}function k(b,c,e,h){if(Object.defineProperty)try{return Object.defineProperty(b,c,{configurable:!0,enumerable:!0,get:function(){return f(h),e},set:function(b){f(h);e=b}}),g}catch(d){}a._definePropertyBroken=!0;b[c]=e}var h={};a.migrateWarnings=[];!a.migrateMute&&d.console&&d.console.log&&d.console.log("JQMIGRATE: Logging is active");
a.migrateTrace===g&&(a.migrateTrace=!0);a.migrateReset=function(){h={};a.migrateWarnings.length=0};"BackCompat"===document.compatMode&&f("jQuery is not compatible with Quirks Mode");var b=a("<input/>",{size:1}).attr("size")&&a.attrFn,c=a.attr,e=a.attrHooks.value&&a.attrHooks.value.get||function(){return null},w=a.attrHooks.value&&a.attrHooks.value.set||function(){return g},z=/^(?:input|button)$/i,C=/^[238]$/,q=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,
l=/^(?:checked|selected)$/i;k(a,"attrFn",b||{},"jQuery.attrFn is deprecated");a.attr=function(e,h,d,w){var k=h.toLowerCase(),m=e&&e.nodeType;return w&&(4>c.length&&f("jQuery.fn.attr( props, pass ) is deprecated"),e&&!C.test(m)&&(b?h in b:a.isFunction(a.fn[h])))?a(e)[h](d):("type"===h&&d!==g&&z.test(e.nodeName)&&e.parentNode&&f("Can't change the 'type' of an input or button in IE 6/7/8"),!a.attrHooks[k]&&q.test(k)&&(a.attrHooks[k]={get:function(b,c){var e,h=a.prop(b,c);return!0===h||"boolean"!=typeof h&&
(e=b.getAttributeNode(c))&&!1!==e.nodeValue?c.toLowerCase():g},set:function(b,c,e){var h;return!1===c?a.removeAttr(b,e):(h=a.propFix[e]||e,h in b&&(b[h]=!0),b.setAttribute(e,e.toLowerCase())),e}},l.test(k)&&f("jQuery.fn.attr('"+k+"') may use property instead of attribute")),c.call(a,e,h,d))};a.attrHooks.value={get:function(b,c){var a=(b.nodeName||"").toLowerCase();return"button"===a?e.apply(this,arguments):("input"!==a&&"option"!==a&&f("jQuery.fn.attr('value') no longer gets properties"),c in b?b.value:
null)},set:function(b,a){var c=(b.nodeName||"").toLowerCase();return"button"===c?w.apply(this,arguments):("input"!==c&&"option"!==c&&f("jQuery.fn.attr('value', val) no longer sets properties"),b.value=a,g)}};var n,m,r=a.fn.init,B=a.parseJSON,G=/^([^<]*)(<[\w\W]+>)([^>]*)$/;a.fn.init=function(b,c,e){var h;return b&&"string"==typeof b&&!a.isPlainObject(c)&&(h=G.exec(a.trim(b)))&&h[0]&&("<"!==b.charAt(0)&&f("$(html) HTML strings must start with '<' character"),h[3]&&f("$(html) HTML text after last tag is ignored"),
"#"===h[0].charAt(0)&&(f("HTML string cannot start with a '#' character"),a.error("JQMIGRATE: Invalid selector string (XSS)")),c&&c.context&&(c=c.context),a.parseHTML)?r.call(this,a.parseHTML(h[2],c,!0),c,e):r.apply(this,arguments)};a.fn.init.prototype=a.fn;a.parseJSON=function(b){return b||null===b?B.apply(this,arguments):(f("jQuery.parseJSON requires a valid JSON string"),null)};a.uaMatch=function(b){b=b.toLowerCase();b=/(chrome)[ \/]([\w.]+)/.exec(b)||/(webkit)[ \/]([\w.]+)/.exec(b)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(b)||
/(msie) ([\w.]+)/.exec(b)||0>b.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(b)||[];return{browser:b[1]||"",version:b[2]||"0"}};a.browser||(n=a.uaMatch(navigator.userAgent),m={},n.browser&&(m[n.browser]=!0,m.version=n.version),m.chrome?m.webkit=!0:m.webkit&&(m.safari=!0),a.browser=m);k(a,"browser",a.browser,"jQuery.browser is deprecated");a.sub=function(){function b(c,a){return new b.fn.init(c,a)}a.extend(!0,b,this);b.superclass=this;b.fn=b.prototype=this();b.fn.constructor=b;b.sub=
this.sub;b.fn.init=function(e,h){return h&&h instanceof a&&!(h instanceof b)&&(h=b(h)),a.fn.init.call(this,e,h,c)};b.fn.init.prototype=b.fn;var c=b(document);return f("jQuery.sub() is deprecated"),b};a.ajaxSetup({converters:{"text json":a.parseJSON}});var A=a.fn.data;a.fn.data=function(b){var c,e,h=this[0];return!h||"events"!==b||1!==arguments.length||(c=a.data(h,b),e=a._data(h,b),c!==g&&c!==e||e===g)?A.apply(this,arguments):(f("Use of jQuery.fn.data('events') is deprecated"),e)};var I=/\/(java|ecma)script/i,
t=a.fn.andSelf||a.fn.addBack;a.fn.andSelf=function(){return f("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),t.apply(this,arguments)};a.clean||(a.clean=function(b,c,e,h){c=c||document;c=!c.nodeType&&c[0]||c;c=c.ownerDocument||c;f("jQuery.clean() is deprecated");var d,w,z=[];if(a.merge(z,a.buildFragment(b,c).childNodes),e)for(d=function(b){return!b.type||I.test(b.type)?h?h.push(b.parentNode?b.parentNode.removeChild(b):b):e.appendChild(b):g},b=0;null!=(c=z[b]);b++)a.nodeName(c,"script")&&d(c)||
(e.appendChild(c),c.getElementsByTagName!==g&&(w=a.grep(a.merge([],c.getElementsByTagName("script")),d),z.splice.apply(z,[b+1,0].concat(w)),b+=w.length));return z});var ea=a.event.add,J=a.event.remove,U=a.event.trigger,P=a.fn.toggle,N=a.fn.live,V=a.fn.die,K=/\b(?:ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess)\b/,Q=/(?:^|\s)hover(\.\S+|)\b/,Y=function(b){return"string"!=typeof b||a.event.special.hover?b:(Q.test(b)&&f("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),
b&&b.replace(Q,"mouseenter$1 mouseleave$1"))};a.event.props&&"attrChange"!==a.event.props[0]&&a.event.props.unshift("attrChange","attrName","relatedNode","srcElement");a.event.dispatch&&k(a.event,"handle",a.event.dispatch,"jQuery.event.handle is undocumented and deprecated");a.event.add=function(b,c,a,e,h){b!==document&&K.test(c)&&f("AJAX events should be attached to document: "+c);ea.call(this,b,Y(c||""),a,e,h)};a.event.remove=function(b,c,a,e,h){J.call(this,b,Y(c)||"",a,e,h)};a.fn.error=function(){var b=
Array.prototype.slice.call(arguments,0);return f("jQuery.fn.error() is deprecated"),b.splice(0,0,"error"),arguments.length?this.bind.apply(this,b):(this.triggerHandler.apply(this,b),this)};a.fn.toggle=function(b,c){if(!a.isFunction(b)||!a.isFunction(c))return P.apply(this,arguments);f("jQuery.fn.toggle(handler, handler...) is deprecated");var e=arguments,h=b.guid||a.guid++,d=0,w=function(c){var h=(a._data(this,"lastToggle"+b.guid)||0)%d;return a._data(this,"lastToggle"+b.guid,h+1),c.preventDefault(),
e[h].apply(this,arguments)||!1};for(w.guid=h;e.length>d;)e[d++].guid=h;return this.click(w)};a.fn.live=function(b,c,e){return f("jQuery.fn.live() is deprecated"),N?N.apply(this,arguments):(a(this.context).on(b,this.selector,c,e),this)};a.fn.die=function(b,c){return f("jQuery.fn.die() is deprecated"),V?V.apply(this,arguments):(a(this.context).off(b,this.selector||"**",c),this)};a.event.trigger=function(b,c,a,e){return a||K.test(b)||f("Global events are undocumented and deprecated"),U.call(this,b,c,
a||document,e)};a.each("ajaxStart ajaxStop ajaxSend ajaxComplete ajaxError ajaxSuccess".split(" "),function(b,c){a.event.special[c]={setup:function(){var b=this;return b!==document&&(a.event.add(document,c+"."+a.guid,function(){a.event.trigger(c,null,b,!0)}),a._data(this,c,a.guid++)),!1},teardown:function(){return this!==document&&a.event.remove(document,c+"."+a._data(this,c)),!1}}})})(jQuery,window);
(function(a){function d(b,c){a.ajax({url:b,async:!1,cache:c.cache,contentType:"text/plain;charset="+c.encoding,dataType:"text",success:function(b){g(b,c.mode)}})}function g(b,c){var e="";b=b.split(/\n/);for(var h=/(\{\d+\})/g,d=/\{(\d+)\}/g,g=/(\\u.{4})/ig,q=0;q<b.length;q++)if(b[q]=b[q].replace(/^\s\s*/,"").replace(/\s\s*$/,""),0<b[q].length&&"#"!=b[q].match("^#")){var l=b[q].split("=");if(0<l.length){for(var n=unescape(l[0]).replace(/^\s\s*/,"").replace(/\s\s*$/,""),m=1==l.length?"":l[1];"\\"==
m.match(/\\$/);)m=m.substring(0,m.length-1),m+=b[++q].replace(/\s\s*$/,"");for(var r=2;r<l.length;r++)m+="="+l[r];m=m.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if("map"==c||"both"==c){if(l=m.match(g))for(r=0;r<l.length;r++)m=m.replace(l[r],k(l[r]));a.i18n.map[n]=m}if("vars"==c||"both"==c)if(m=m.replace(/"/g,'\\"'),f(n),h.test(m)){for(var l=m.split(h),r=!0,B="",G=[],A=0;A<l.length;A++)!h.test(l[A])||0!=G.length&&-1!=G.indexOf(l[A])||(r||(B+=","),B+=l[A].replace(d,"v$1"),G.push(l[A]),r=!1);e+=n+"=function("+
B+"){";n='"'+m.replace(d,'"+v$1+"')+'"';e+="return "+n+";};"}else e+=n+'="'+m+'";'}}eval(e)}function f(b){if(/\./.test(b)){var c="";b=b.split(/\./);for(var a=0;a<b.length;a++)0<a&&(c+="."),c+=b[a],eval("typeof "+c+' == "undefined"')&&eval(c+"={};")}}function k(b){var c=[];b=parseInt(b.substr(2),16);0<=b&&b<Math.pow(2,16)&&c.push(b);b="";for(var a=0;a<c.length;++a)b+=String.fromCharCode(c[a]);return b}a.i18n={};a.i18n.map={};a.i18n.properties=function(b){b=a.extend({name:"Messages",language:"",path:"",
mode:"vars",cache:!1,encoding:"UTF-8",callback:null},b);if(null===b.language||""==b.language)b.language=a.i18n.browserLang();null===b.language&&(b.language="");var c=b.name&&b.name.constructor==Array?b.name:[b.name];for(i=0;i<c.length;i++)d(b.path+c[i]+".properties",b),2<=b.language.length&&d(b.path+c[i]+"_"+b.language.substring(0,2)+".properties",b),5<=b.language.length&&d(b.path+c[i]+"_"+b.language.substring(0,5)+".properties",b);b.callback&&b.callback()};a.i18n.prop=function(b){var c=a.i18n.map[b];
if(null==c)return"["+b+"]";var e;if("string"==typeof c){for(e=0;-1!=(e=c.indexOf("\\",e));)c="t"==c[e+1]?c.substring(0,e)+"\t"+c.substring(e++ +2):"r"==c[e+1]?c.substring(0,e)+"\r"+c.substring(e++ +2):"n"==c[e+1]?c.substring(0,e)+"\n"+c.substring(e++ +2):"f"==c[e+1]?c.substring(0,e)+"\f"+c.substring(e++ +2):"\\"==c[e+1]?c.substring(0,e)+"\\"+c.substring(e++ +2):c.substring(0,e)+c.substring(e+1);var h=[],d,f;for(e=0;e<c.length;)if("'"==c[e])if(e==c.length-1)c=c.substring(0,e);else if("'"==c[e+1])c=
c.substring(0,e)+c.substring(++e);else{for(d=e+2;-1!=(d=c.indexOf("'",d));)if(d==c.length-1||"'"!=c[d+1]){c=c.substring(0,e)+c.substring(e+1,d)+c.substring(d+1);e=d-1;break}else c=c.substring(0,d)+c.substring(++d);-1==d&&(c=c.substring(0,e)+c.substring(e+1))}else if("{"==c[e])if(d=c.indexOf("}",e+1),-1==d)e++;else if(f=parseInt(c.substring(e+1,d)),!isNaN(f)&&0<=f){var g=c.substring(0,e);""!=g&&h.push(g);h.push(f);e=0;c=c.substring(d+1)}else e=d+1;else e++;""!=c&&h.push(c);c=h;a.i18n.map[b]=h}if(0==
c.length)return"";if(1==c.lengh&&"string"==typeof c[0])return c[0];g="";for(e=0;e<c.length;e++)g+="string"==typeof c[e]?c[e]:c[e]+1<arguments.length?arguments[c[e]+1]:"{"+c[e]+"}";return g};a.i18n.browserLang=function(){var b=navigator.language||navigator.userLanguage,b=b.toLowerCase();3<b.length&&(b=b.substring(0,3)+b.substring(3).toUpperCase());return b};var h;h||(h=function(b,c,a){if("[object RegExp]"!==Object.prototype.toString.call(c))return"undefined"==typeof h._nativeSplit?b.split(c,a):h._nativeSplit.call(b,
c,a);var d=[],f=0,g=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.sticky?"y":"");c=RegExp(c.source,g+"g");var k,l,n;b+="";h._compliantExecNpcg||(k=RegExp("^"+c.source+"$(?!\\s)",g));if(void 0===a||0>+a)a=Infinity;else if(a=Math.floor(+a),!a)return[];for(;l=c.exec(b);){g=l.index+l[0].length;if(g>f&&(d.push(b.slice(f,l.index)),!h._compliantExecNpcg&&1<l.length&&l[0].replace(k,function(){for(var b=1;b<arguments.length-2;b++)void 0===arguments[b]&&(l[b]=void 0)}),1<l.length&&l.index<b.length&&Array.prototype.push.apply(d,
l.slice(1)),n=l[0].length,f=g,d.length>=a))break;c.lastIndex===l.index&&c.lastIndex++}f===b.length?(n||!c.test(""))&&d.push(""):d.push(b.slice(f));return d.length>a?d.slice(0,a):d},h._compliantExecNpcg=void 0===/()??/.exec("")[1],h._nativeSplit=String.prototype.split);String.prototype.split=function(b,c){return h(this,b,c)}})(jQuery);
(function(a,d,g){var f=function(){for(var a=/audio(.min)?.js.*/,b=document.getElementsByTagName("script"),c=0,e=b.length;c<e;c++){var d=b[c].getAttribute("src");if(a.test(d))return d.replace(a,"")}}();g[a]={instanceCount:0,instances:{},flashSource:'      <object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" id="$1" width="1" height="1" name="$1" style="position: absolute; left: -1px;">         <param name="movie" value="$2?playerInstance='+a+'.instances[\'$1\']&datetime=$3">         <param name="allowscriptaccess" value="always">         <embed name="$1" src="$2?playerInstance='+
a+'.instances[\'$1\']&datetime=$3" width="1" height="1" allowscriptaccess="always">       </object>',settings:{autoplay:!1,loop:!1,preload:!0,imageLocation:f+"player-graphics.gif",swfLocation:f+"audiojs.swf",useFlash:function(){var a=document.createElement("audio");return!(a.canPlayType&&a.canPlayType("audio/mpeg;").replace(/no/,""))}(),hasFlash:function(){if(navigator.plugins&&navigator.plugins.length&&navigator.plugins["Shockwave Flash"])return!0;if(navigator.mimeTypes&&navigator.mimeTypes.length){var a=
navigator.mimeTypes["application/x-shockwave-flash"];return a&&a.enabledPlugin}try{return new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),!0}catch(b){}return!1}(),createPlayer:{markup:'          <div class="play-pause">             <p class="play"></p>             <p class="pause"></p>             <p class="loading"></p>             <p class="error"></p>           </div>           <div class="scrubber">             <div class="progress"></div>             <div class="loaded"></div>           </div>           <div class="time">             <em class="played">00:00</em>/<strong class="duration">00:00</strong>           </div>           <div class="error-message"></div>',
playPauseClass:"play-pause",scrubberClass:"scrubber",progressClass:"progress",loaderClass:"loaded",timeClass:"time",durationClass:"duration",playedClass:"played",errorMessageClass:"error-message",playingClass:"playing",loadingClass:"loading",errorClass:"error"},css:'        .audiojs audio { position: absolute; left: -1px; }         .audiojs { width: 290px; height: 36px; background: #404040; overflow: hidden; font-family: monospace; font-size: 12px;           background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0, #444), color-stop(0.5, #555), color-stop(0.51, #444), color-stop(1, #444));           background-image: -moz-linear-gradient(center top, #444 0%, #555 50%, #444 51%, #444 100%);           -webkit-box-shadow: 1px 1px 8px rgba(0, 0, 0, 0.3); -moz-box-shadow: 1px 1px 8px rgba(0, 0, 0, 0.3);           -o-box-shadow: 1px 1px 8px rgba(0, 0, 0, 0.3); box-shadow: 1px 1px 8px rgba(0, 0, 0, 0.3); }         .audiojs .play-pause { width: 25px; height: 40px; padding: 4px 6px; margin: 0px; float: left; overflow: hidden; border-right: 1px solid #000; }         .audiojs p { display: none; width: 25px; height: 40px; margin: 0px; cursor: pointer; }         .audiojs .play { display: block; }         .audiojs .scrubber { position: relative; float: left; width: 280px; background: #5a5a5a; height: 14px; margin: 10px; border-top: 1px solid #3f3f3f; border-left: 0px; border-bottom: 0px; overflow: hidden; }         .audiojs .progress { position: absolute; top: 0px; left: 0px; height: 14px; width: 0px; background: #ccc; z-index: 1;           background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0, #ccc), color-stop(0.5, #ddd), color-stop(0.51, #ccc), color-stop(1, #ccc));           background-image: -moz-linear-gradient(center top, #ccc 0%, #ddd 50%, #ccc 51%, #ccc 100%); }         .audiojs .loaded { position: absolute; top: 0px; left: 0px; height: 14px; width: 0px; background: #000;           background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0, #222), color-stop(0.5, #333), color-stop(0.51, #222), color-stop(1, #222));           background-image: -moz-linear-gradient(center top, #222 0%, #333 50%, #222 51%, #222 100%); }         .audiojs .time { float: left; height: 36px; line-height: 36px; margin: 0px 0px 0px 6px; padding: 0px 6px 0px 12px; border-left: 1px solid #000; color: #ddd; text-shadow: 1px 1px 0px rgba(0, 0, 0, 0.5); }         .audiojs .time em { padding: 0px 2px 0px 0px; color: #f9f9f9; font-style: normal; }         .audiojs .time strong { padding: 0px 0px 0px 2px; font-weight: normal; }         .audiojs .error-message { float: left; display: none; margin: 0px 10px; height: 36px; width: 400px; overflow: hidden; line-height: 36px; white-space: nowrap; color: #fff;           text-overflow: ellipsis; -o-text-overflow: ellipsis; -icab-text-overflow: ellipsis; -khtml-text-overflow: ellipsis; -moz-text-overflow: ellipsis; -webkit-text-overflow: ellipsis; }         .audiojs .error-message a { color: #eee; text-decoration: none; padding-bottom: 1px; border-bottom: 1px solid #999; white-space: wrap; }                 .audiojs .play { background: url("$1") -2px -1px no-repeat; }         .audiojs .loading { background: url("$1") -2px -31px no-repeat; }         .audiojs .error { background: url("$1") -2px -61px no-repeat; }         .audiojs .pause { background: url("$1") -2px -91px no-repeat; }                 .playing .play, .playing .loading, .playing .error { display: none; }         .playing .pause { display: block; }                 .loading .play, .loading .pause, .loading .error { display: none; }         .loading .loading { display: block; }                 .error .time, .error .play, .error .pause, .error .scrubber, .error .loading { display: none; }         .error .error { display: block; }         .error .play-pause p { cursor: auto; }         .error .error-message { display: block; }',
trackEnded:function(){},flashError:function(){var h=this.settings.createPlayer,b=k(h.errorMessageClass,this.wrapper),c='Missing <a href="http://get.adobe.com/flashplayer/">flash player</a> plugin.';this.mp3&&(c+=' <a href="'+this.mp3+'">Download audio file</a>.');g[a].helpers.removeClass(this.wrapper,h.loadingClass);g[a].helpers.addClass(this.wrapper,h.errorClass);b.innerHTML=c},loadError:function(){var h=this.settings.createPlayer,b=k(h.errorMessageClass,this.wrapper);g[a].helpers.removeClass(this.wrapper,
h.loadingClass);g[a].helpers.addClass(this.wrapper,h.errorClass);b.innerHTML='Error loading: "'+this.mp3+'"'},init:function(){g[a].helpers.addClass(this.wrapper,this.settings.createPlayer.loadingClass)},loadStarted:function(){var h=this.settings.createPlayer,b=k(h.durationClass,this.wrapper),c=Math.floor(this.duration/60),e=Math.floor(this.duration%60);g[a].helpers.removeClass(this.wrapper,h.loadingClass);b.innerHTML=(10>c?"0":"")+c+":"+(10>e?"0":"")+e},loadProgress:function(a){var b=this.settings.createPlayer,
c=k(b.scrubberClass,this.wrapper);k(b.loaderClass,this.wrapper).style.width=c.offsetWidth*a+"px"},playPause:function(){this.playing?this.settings.play():this.settings.pause()},play:function(){g[a].helpers.addClass(this.wrapper,this.settings.createPlayer.playingClass)},pause:function(){g[a].helpers.removeClass(this.wrapper,this.settings.createPlayer.playingClass)},updatePlayhead:function(a){var b=this.settings.createPlayer,c=k(b.scrubberClass,this.wrapper);k(b.progressClass,this.wrapper).style.width=
c.offsetWidth*a+"px";b=k(b.playedClass,this.wrapper);c=this.duration*a;a=Math.floor(c/60);c=Math.floor(c%60);b.innerHTML=(10>a?"0":"")+a+":"+(10>c?"0":"")+c}},create:function(a,b){b=b||{};return a.length?this.createAll(b,a):this.newInstance(a,b)},createAll:function(a,b){b=b||document.getElementsByTagName("audio");var c=[];a=a||{};for(var e=0,d=b.length;e<d;e++)c.push(this.newInstance(b[e],a));return c},newInstance:function(a,b){var c=this.helpers.clone(this.settings),e="audiojs"+this.instanceCount,
f="audiojs_wrapper"+this.instanceCount;this.instanceCount++;null!=a.getAttribute("autoplay")&&(c.autoplay=!0);null!=a.getAttribute("loop")&&(c.loop=!0);"none"==a.getAttribute("preload")&&(c.preload=!1);b&&this.helpers.merge(c,b);c.createPlayer.markup?a=this.createPlayer(a,c.createPlayer,f):a.parentNode.setAttribute("id",f);f=new g[d](a,c);c.css&&this.helpers.injectCss(f,c.css);c.useFlash&&c.hasFlash?(this.injectFlash(f,e),this.attachFlashEvents(f.wrapper,f)):c.useFlash&&!c.hasFlash&&this.settings.flashError.apply(f);
(!c.useFlash||c.useFlash&&c.hasFlash)&&this.attachEvents(f.wrapper,f);return this.instances[e]=f},createPlayer:function(a,b,c){var e=document.createElement("div"),d=a.cloneNode(!0);e.setAttribute("class","audiojs");e.setAttribute("className","audiojs");e.setAttribute("id",c);d.outerHTML&&!document.createElement("audio").canPlayType?(d=this.helpers.cloneHtml5Node(a),e.innerHTML=b.markup,e.appendChild(d),a.outerHTML=e.outerHTML,e=document.getElementById(c)):(e.appendChild(d),e.innerHTML+=b.markup,a.parentNode.replaceChild(e,
a));return e.getElementsByTagName("audio")[0]},attachEvents:function(h,b){if(b.settings.createPlayer){var c=b.settings.createPlayer,e=k(c.playPauseClass,h),d=k(c.scrubberClass,h);g[a].events.addListener(e,"click",function(){b.playPause.apply(b)});g[a].events.addListener(d,"click",function(a){a=a.clientX;var c=this,e=0;if(c.offsetParent){do e+=c.offsetLeft;while(c=c.offsetParent)}b.skipTo((a-e)/d.offsetWidth)});b.settings.useFlash||(g[a].events.trackLoadProgress(b),g[a].events.addListener(b.element,
"timeupdate",function(){b.updatePlayhead.apply(b)}),g[a].events.addListener(b.element,"ended",function(){b.trackEnded.apply(b)}),g[a].events.addListener(b.source,"error",function(){clearInterval(b.readyTimer);clearInterval(b.loadTimer);b.settings.loadError.apply(b)}))}},attachFlashEvents:function(a,b){b.swfReady=!1;b.load=function(a){b.mp3=a;b.swfReady&&b.element.load(a)};b.loadProgress=function(a,e){b.loadedPercent=a;b.duration=e;b.settings.loadStarted.apply(b);b.settings.loadProgress.apply(b,[a])};
b.skipTo=function(a){a>b.loadedPercent||(b.updatePlayhead.call(b,[a]),b.element.skipTo(a))};b.updatePlayhead=function(a){b.settings.updatePlayhead.apply(b,[a])};b.play=function(){b.settings.preload||(b.settings.preload=!0,b.element.init(b.mp3));b.playing=!0;b.element.pplay();b.settings.play.apply(b)};b.pause=function(){b.playing=!1;b.element.ppause();b.settings.pause.apply(b)};b.setVolume=function(a){b.element.setVolume(a)};b.loadStarted=function(){b.swfReady=!0;b.settings.preload&&b.element.init(b.mp3);
b.settings.autoplay&&b.play.apply(b)}},injectFlash:function(a,b){var c=this.flashSource.replace(/\$1/g,b),c=c.replace(/\$2/g,a.settings.swfLocation),c=c.replace(/\$3/g,+new Date+Math.random()),e=a.wrapper.innerHTML,d=document.createElement("div");d.innerHTML=c+e;a.wrapper.innerHTML=d.innerHTML;a.element=this.helpers.getSwf(b)},helpers:{merge:function(a,b){for(attr in b)if(a.hasOwnProperty(attr)||b.hasOwnProperty(attr))a[attr]=b[attr]},clone:function(a){if(null==a||"object"!==typeof a)return a;var b=
new a.constructor,c;for(c in a)b[c]=arguments.callee(a[c]);return b},addClass:function(a,b){RegExp("(\\s|^)"+b+"(\\s|$)").test(a.className)||(a.className+=" "+b)},removeClass:function(a,b){a.className=a.className.replace(RegExp("(\\s|^)"+b+"(\\s|$)")," ")},injectCss:function(a,b){var c="",e=document.getElementsByTagName("style");a=b.replace(/\$1/g,a.settings.imageLocation);b=0;for(var d=e.length;b<d;b++){var f=e[b].getAttribute("title");if(f&&~f.indexOf("audiojs")){d=e[b];if(d.innerHTML===a)return;
c=d.innerHTML;break}}e=document.getElementsByTagName("head")[0];b=e.firstChild;d=document.createElement("style");e&&(d.setAttribute("type","text/css"),d.setAttribute("title","audiojs"),d.styleSheet?d.styleSheet.cssText=c+a:d.appendChild(document.createTextNode(c+a)),b?e.insertBefore(d,b):e.appendChild(styleElement))},cloneHtml5Node:function(a){var b=document.createDocumentFragment(),c=b.createElement?b:document;c.createElement("audio");c=c.createElement("div");b.appendChild(c);c.innerHTML=a.outerHTML;
return c.firstChild},getSwf:function(a){a=document[a]||window[a];return 1<a.length?a[a.length-1]:a}},events:{memoryLeaking:!1,listeners:[],addListener:function(d,b,c){d.addEventListener?d.addEventListener(b,c,!1):d.attachEvent&&(this.listeners.push(d),this.memoryLeaking||(window.attachEvent("onunload",function(){if(this.listeners)for(var b=0,c=this.listeners.length;b<c;b++)g[a].events.purge(this.listeners[b])}),this.memoryLeaking=!0),d.attachEvent("on"+b,function(){c.call(d,window.event)}))},trackLoadProgress:function(a){if(a.settings.preload){var b,
c,e=/(ipod|iphone|ipad)/i.test(navigator.userAgent);b=setInterval(function(){-1<a.element.readyState&&(e||a.init.apply(a));1<a.element.readyState&&(a.settings.autoplay&&a.play.apply(a),clearInterval(b),c=setInterval(function(){a.loadProgress.apply(a);1<=a.loadedPercent&&clearInterval(c)}))},10);a.readyTimer=b;a.loadTimer=c}},purge:function(a){var b=a.attributes,c;if(b)for(c=0;c<b.length;c+=1)"function"===typeof a[b[c].name]&&(a[b[c].name]=null);if(b=a.childNodes)for(c=0;c<b.length;c+=1)purge(a.childNodes[c])},
ready:function(){return function(a){var b=window,c=!1,e=!0,d=b.document,f=d.documentElement,g=d.addEventListener?"addEventListener":"attachEvent",k=d.addEventListener?"removeEventListener":"detachEvent",l=d.addEventListener?"":"on",n=function(e){if("readystatechange"!=e.type||"complete"==d.readyState)("load"==e.type?b:d)[k](l+e.type,n,!1),!c&&(c=!0)&&a.call(b,e.type||e)},m=function(){try{f.doScroll("left")}catch(a){setTimeout(m,50);return}n("poll")};if("complete"==d.readyState)a.call(b,"lazy");else{if(d.createEventObject&&
f.doScroll){try{e=!b.frameElement}catch(r){}e&&m()}d[g](l+"DOMContentLoaded",n,!1);d[g](l+"readystatechange",n,!1);b[g](l+"load",n,!1)}}}()}};g[d]=function(a,b){this.element=a;this.wrapper=a.parentNode;this.source=a.getElementsByTagName("source")[0]||a;var c=a.getElementsByTagName("source")[0];this.mp3=a.getAttribute("src")||(c?c.getAttribute("src"):null);this.settings=b;this.loadStartedCalled=!1;this.loadedPercent=0;this.duration=1;this.playing=!1};g[d].prototype={updatePlayhead:function(){this.settings.updatePlayhead.apply(this,
[this.element.currentTime/this.duration])},skipTo:function(a){a>this.loadedPercent||(this.element.currentTime=this.duration*a,this.updatePlayhead())},load:function(d){this.loadStartedCalled=!1;this.source.setAttribute("src",d);this.element.load();this.mp3=d;g[a].events.trackLoadProgress(this)},loadError:function(){this.settings.loadError.apply(this)},init:function(){this.settings.init.apply(this)},loadStarted:function(){if(!this.element.duration)return!1;this.duration=this.element.duration;this.updatePlayhead();
this.settings.loadStarted.apply(this)},loadProgress:function(){null!=this.element.buffered&&this.element.buffered.length&&(this.loadStartedCalled||(this.loadStartedCalled=this.loadStarted()),this.loadedPercent=this.element.buffered.end(this.element.buffered.length-1)/this.duration,this.settings.loadProgress.apply(this,[this.loadedPercent]))},playPause:function(){this.playing?this.pause():this.play()},play:function(){/(ipod|iphone|ipad)/i.test(navigator.userAgent)&&0==this.element.readyState&&this.init.apply(this);
this.settings.preload||(this.settings.preload=!0,this.element.setAttribute("preload","auto"),g[a].events.trackLoadProgress(this));this.playing=!0;this.element.play();this.settings.play.apply(this)},pause:function(){this.playing=!1;this.element.pause();this.settings.pause.apply(this)},setVolume:function(a){this.element.volume=a},trackEnded:function(){this.skipTo.apply(this,[0]);this.settings.loop||this.pause.apply(this);this.settings.trackEnded.apply(this)}};var k=function(a,b){var c=[];b=b||document;
if(b.getElementsByClassName)c=b.getElementsByClassName(a);else{var e;b=b.getElementsByTagName("*");var d=RegExp("(^|\\s)"+a+"(\\s|$)");a=0;for(e=b.length;a<e;a++)d.test(b[a].className)&&c.push(b[a])}return 1<c.length?c:c[0]}})("audiojs","audiojsInstance",this);
(function(a){function d(b,c){a.ajax({url:b,async:!1,cache:c.cache,contentType:"text/plain;charset="+c.encoding,dataType:"text",success:function(a,b){g(a,c.mode)}})}function g(b,c){var e="";b=b.split(/\n/);for(var d=/(\{\d+\})/g,h=/\{(\d+)\}/g,g=/(\\u.{4})/ig,q=0;q<b.length;q++)if(b[q]=b[q].replace(/^\s\s*/,"").replace(/\s\s*$/,""),0<b[q].length&&"#"!=b[q].match("^#")){var l=b[q].split("=");if(0<l.length){for(var n=unescape(l[0]).replace(/^\s\s*/,"").replace(/\s\s*$/,""),m=1==l.length?"":l[1];"\\"==
m.match(/\\$/);)m=m.substring(0,m.length-1),m+=b[++q].replace(/\s\s*$/,"");for(var r=2;r<l.length;r++)m+="="+l[r];m=m.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if("map"==c||"both"==c){if(l=m.match(g))for(r=0;r<l.length;r++)m=m.replace(l[r],k(l[r]));a.i18n.map[n]=m}if("vars"==c||"both"==c)if(m=m.replace(/"/g,'\\"'),f(n),d.test(m)){for(var l=m.split(d),r=!0,B="",G=[],A=0;A<l.length;A++)!d.test(l[A])||0!=G.length&&-1!=G.indexOf(l[A])||(r||(B+=","),B+=l[A].replace(h,"v$1"),G.push(l[A]),r=!1);e+=n+"=function("+
B+"){";n='"'+m.replace(h,'"+v$1+"')+'"';e+="return "+n+";};"}else e+=n+'="'+m+'";'}}eval(e)}function f(a){if(/\./.test(a)){var c="";a=a.split(/\./);for(var e=0;e<a.length;e++)0<e&&(c+="."),c+=a[e],eval("typeof "+c+' == "undefined"')&&eval(c+"={};")}}function k(a){var c=[];a=parseInt(a.substr(2),16);0<=a&&a<Math.pow(2,16)&&c.push(a);a="";for(var e=0;e<c.length;++e)a+=String.fromCharCode(c[e]);return a}a.i18n={};a.i18n.map={};a.i18n.properties=function(b){b=a.extend({name:"Messages",language:"",path:"",
mode:"vars",cache:!1,encoding:"UTF-8",callback:null},b);if(null===b.language||""==b.language)b.language=a.i18n.browserLang();null===b.language&&(b.language="");var c;c=(c=b.name)&&c.constructor==Array?c:[c];for(i=0;i<c.length;i++)5<=b.language.length?d(b.path+c[i]+"_"+b.language.substring(0,5)+".properties",b):2<=b.language.length?d(b.path+c[i]+"_"+b.language.substring(0,2)+".properties",b):d(b.path+c[i]+".properties",b);b.callback&&b.callback()};a.i18n.prop=function(b){var c=a.i18n.map[b];if(null==
c)return"["+b+"]";var e;if("string"==typeof c){for(e=0;-1!=(e=c.indexOf("\\",e));)c="t"==c[e+1]?c.substring(0,e)+"\t"+c.substring(e++ +2):"r"==c[e+1]?c.substring(0,e)+"\r"+c.substring(e++ +2):"n"==c[e+1]?c.substring(0,e)+"\n"+c.substring(e++ +2):"f"==c[e+1]?c.substring(0,e)+"\f"+c.substring(e++ +2):"\\"==c[e+1]?c.substring(0,e)+"\\"+c.substring(e++ +2):c.substring(0,e)+c.substring(e+1);var d=[],f,h;for(e=0;e<c.length;)if("'"==c[e])if(e==c.length-1)c=c.substring(0,e);else if("'"==c[e+1])c=c.substring(0,
e)+c.substring(++e);else{for(f=e+2;-1!=(f=c.indexOf("'",f));)if(f==c.length-1||"'"!=c[f+1]){c=c.substring(0,e)+c.substring(e+1,f)+c.substring(f+1);e=f-1;break}else c=c.substring(0,f)+c.substring(++f);-1==f&&(c=c.substring(0,e)+c.substring(e+1))}else if("{"==c[e])if(f=c.indexOf("}",e+1),-1==f)e++;else if(h=parseInt(c.substring(e+1,f)),!isNaN(h)&&0<=h){var g=c.substring(0,e);""!=g&&d.push(g);d.push(h);e=0;c=c.substring(f+1)}else e=f+1;else e++;""!=c&&d.push(c);c=d;a.i18n.map[b]=d}if(0==c.length)return"";
if(1==c.lengh&&"string"==typeof c[0])return c[0];g="";for(e=0;e<c.length;e++)g="string"==typeof c[e]?g+c[e]:c[e]+1<arguments.length?g+arguments[c[e]+1]:g+("{"+c[e]+"}");return g};a.i18n.browserLang=function(){var a=navigator.language||navigator.userLanguage,a=a.toLowerCase();3<a.length&&(a=a.substring(0,3)+a.substring(3).toUpperCase());return a};var h;h||(h=function(a,c,e){if("[object RegExp]"!==Object.prototype.toString.call(c))return"undefined"==typeof h._nativeSplit?a.split(c,e):h._nativeSplit.call(a,
c,e);var d=[],f=0,g=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.sticky?"y":"");c=RegExp(c.source,g+"g");var k,l,n;a+="";h._compliantExecNpcg||(k=RegExp("^"+c.source+"$(?!\\s)",g));if(void 0===e||0>+e)e=Infinity;else if(e=Math.floor(+e),!e)return[];for(;l=c.exec(a);){g=l.index+l[0].length;if(g>f&&(d.push(a.slice(f,l.index)),!h._compliantExecNpcg&&1<l.length&&l[0].replace(k,function(){for(var a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(l[a]=void 0)}),1<l.length&&l.index<a.length&&Array.prototype.push.apply(d,
l.slice(1)),n=l[0].length,f=g,d.length>=e))break;c.lastIndex===l.index&&c.lastIndex++}f===a.length?!n&&c.test("")||d.push(""):d.push(a.slice(f));return d.length>e?d.slice(0,e):d},h._compliantExecNpcg=void 0===/()??/.exec("")[1],h._nativeSplit=String.prototype.split);String.prototype.split=function(a,c){return h(this,a,c)}})(jQuery);
var baseFacetChart={collectionsUrl:"http://no-default-collectory",biocacheServicesUrl:"http://no-default-biocache/ws",biocacheWebappUrl:"http://no-default-biocache",chartsDiv:null,chart:null,width:600,height:450,chartArea:{left:0,top:30,width:"90%",height:"70%"},is3D:!1,titleTextStyle:{color:"#555",fontName:"Arial",fontSize:15},sliceVisibilityThreshold:0,legend:{position:"right"},chartType:"pie",column1DataType:"string",datasets:1,backgroundColor:{fill:"transparent"},individualChartOptions:{state_conservation:{chartArea:{left:60,
height:"58%"},title:"By state conservation status"},occurrence_year:{chartArea:{left:60,height:"55%"},requestFacetName:"decade"},decade:{chartArea:{left:60,height:"55%"},responseFacetName:"occurrence_year"},year:{width:600},month:{width:600},institution_uid:{chartArea:{left:0,width:"100%"}},collection_uid:{chartArea:{left:0,width:"100%"}},species_group:{title:"By higher-level group",ignore:["Animals"],chartType:"column",width:450,chartArea:{left:60,height:"58%"},vAxis:{minValue:0,textPosition:"in",
gridlines:{color:"#ddd",count:4}},colors:["#108628"],reverseCategories:!0,hAxis:{slantedTextAngle:60}},state:{ignore:["Unknown1"]},type_status:{title:"By type status (as % of all type specimens)",ignore:["notatype"]},el895:{hAxis:{title:"Moisture Index"}},el882:{hAxis:{title:"mm"},chartArea:{width:"65%"}},el889:{hAxis:{title:"mm"}},el887:{hAxis:{title:"MJ/m2/day"}},el865:{hAxis:{title:"Moisture Index"}},el894:{hAxis:{title:"MJ/m2/day"}},el895Outliers:{hAxis:{title:"Moisture Index"},chartArea:{width:"65%"},
facets:["el895"],facetLabels:["Precipitation"],singleFacetName:"el895",avoidTitlePrefix:!0},el882Outliers:{hAxis:{title:"mm"},chartType:"scatter",chartArea:{width:"65%"},facets:["el882"],facetLabels:["Precipitation"],singleFacetName:"el882",avoidTitlePrefix:!0},el889Outliers:{hAxis:{title:"mm"},chartArea:{width:"65%"},facets:["el889"],facetLabels:["Precipitation"],singleFacetName:"el889",avoidTitlePrefix:!0},el887Outliers:{hAxis:{title:"MJ/m2/day"},chartArea:{width:"65%"},facets:["el887"],facetLabels:["Precipitation"],
singleFacetName:"el887",avoidTitlePrefix:!0},el865Outliers:{hAxis:{title:"Moisture Index"},chartArea:{width:"65%"},facets:["el865"],facetLabels:["Precipitation"],singleFacetName:"el865",avoidTitlePrefix:!0},el894Outliers:{hAxis:{title:"MJ/m2/day"},chartArea:{width:"65%"},facets:["el894"],facetLabels:["Precipitation"],singleFacetName:"el894",avoidTitlePrefix:!0},el895OutliersCumm:{hAxis:{title:"Moisture Index"},chartArea:{width:"65%"},facets:["el895"],facetLabels:["Precipitation"],singleFacetName:"el895",
avoidTitlePrefix:!0},el882OutliersCumm:{hAxis:{title:"mm"},chartArea:{width:"65%"},facets:["el882"],facetLabels:["Precipitation"],singleFacetName:"el882",avoidTitlePrefix:!0},el889OutliersCumm:{hAxis:{title:"mm"},chartArea:{width:"65%"},facets:["el889"],facetLabels:["Precipitation"],singleFacetName:"el889",avoidTitlePrefix:!0},el887OutliersCumm:{hAxis:{title:"MJ/m2/day"},chartArea:{width:"65%"},facets:["el887"],facetLabels:["Precipitation"],singleFacetName:"el887",avoidTitlePrefix:!0},el865OutliersCumm:{hAxis:{title:"Moisture Index"},
chartArea:{width:"65%"},facets:["el865"],facetLabels:["Precipitation"],singleFacetName:"el865",avoidTitlePrefix:!0},el894OutliersCumm:{hAxis:{title:"MJ/m2/day"},chartArea:{width:"65%"},facets:["el894"],facetLabels:["Precipitation"],singleFacetName:"el894",avoidTitlePrefix:!0},radiation:{hAxis:{title:"MJ/m2/day"},chartArea:{width:"65%"},facets:["el887","el894"],facetLabels:["seasonality (Bio23)","warmest quarter (Bio26)"]},precipitation:{hAxis:{title:"mm"},chartArea:{width:"65%"},facets:["el882","el889"],
facetLabels:["seasonality (Bio15)","driest quarter (Bio17)"]},moisture:{hAxis:{title:"Moisture Index"},chartArea:{width:"65%"},facets:["el895","el865"],facetLabels:["lowest period (Bio30)","highest quarter mean (Bio32)"]}},getChartTypeOptions:function(a){return void 0!==this.individualChartOptions[a]?this.individualChartOptions[a]:{}},chartLabels:{institution_uid:"institution",data_resource_uid:"data set",assertions:"data assertion",biogeographic_region:"biogeographic region",occurrence_year:"decade",
el895:"Moisture Index - lowest period (Bio30)",el895Outliers:"Moisture Index - lowest period (Bio30)",el895OutliersCumm:"Moisture Index - lowest period (Bio30)",el882:"Precipitation - seasonality (Bio15)",el882Outliers:"Precipitation - seasonality (Bio15) - Outliers",el882OutliersCumm:"Precipitation - seasonality (Bio15) - Outliers (Cumulative)",el889:"Precipitation - driest quarter (Bio17)",el889Outliers:"Precipitation - driest quarter (Bio17) - Outliers",el889OutliersCumm:"Precipitation - driest quarter (Bio17) - Outliers (Cumulative)",
el887:"Radiation - seasonality (Bio23)",el887Outliers:"Radiation - seasonality (Bio23) - Outliers",el887OutliersCumm:"Radiation - seasonality (Bio23) - Outliers (Cumulative)",el865:"Moisture Index - highest quarter mean (Bio32)",el865Outliers:"Moisture Index - highest quarter mean (Bio32) - Outliers",el865OutliersCumm:"Moisture Index - highest quarter mean (Bio32) - Outliers (Cumulative)",el894:"Radiation - warmest quarter (Bio26)",el894Outliers:"Radiation - warmest quarter (Bio26) - Outliers",el894OutliersCumm:"Radiation - warmest quarter (Bio26) - Outliers (Cumulative)",
radiation:"Radiation",precipitation:"Precipitation",moisture:"Moisture"},googleChartOptions:function(){var a={},d=this;$.each("width height chartArea is3D titleTextStyle sliceVisibilityThreshold legend hAxis vAxis title colors reverseCategories fontSize backgroundColor axisTitlesPosition fontName focusTarget titlePosition tooltip".split(" "),function(g,f){void 0!=d[f]&&(a[f]=d[f])});return a},name:"",chartLabel:function(){return this.chartLabels[this.name]?this.chartLabels[this.name]:this.name},title:function(){return"By "+
this.chartLabel()},transformData:function(a){return this.syncTransforms[this.name]?this.syncTransforms[this.name].apply(null,[a]):a},syncTransforms:{occurrence_year:function(a){var d,g=[];$.each(a,function(a,k){if("before"===k.label)g.splice(0,0,{label:"before "+d,count:k.count});else{var h=k.label.substr(0,4);0===a&&(d=h);g.push({label:h+"s",count:k.count})}});return g},decade:function(a){var d,g=[];$.each(a,function(a,k){if("before"===k.label)g.splice(0,0,{label:"before "+d,count:k.count});else{var h=
k.label.substr(0,4);0===a&&(d=h);g.push({label:h+"s",count:k.count})}});return g},year:function(a){var d,g=3E3,f=0,k={},h=[];$.each(a,function(a,c){d=c.label;Number(d)<g&&(g=Number(d));Number(d)>f&&(f=Number(d));k[d]=c.count});if(g>f)return[];for(y=g;y<=f;y++)h.push({label:""+y,count:k[""+y]||0});return h}},formatLabel:function(a){return this.labelFormatters[this.name]?this.labelFormatters[this.name].apply(null,[a]):a},labelFormatters:{month:function(a){return transformMonthData(a)}},transformDataAfter:function(a,
d){var g=this.asyncTransforms[this.name];g&&g.method.apply(null,[this.chart,a,d,g.param])},asyncTransforms:{collection_uid:{method:lookupEntityNameFromUids,param:"collection"},institution_uid:{method:lookupEntityNameFromUids,param:"institution"},data_resource_uid:{method:lookupEntityNameFromUids,param:"dataResource"}},setType:function(a){this.chartType=a},init:function(a,d){var g=this.name;this.title="undefined"!==d.avoidTitlePrefix&&d.avoidTitlePrefix?this.chartLabel():"By "+this.chartLabel();var f=
$.extend(!0,{},this.getChartTypeOptions(g),d,d[g]||{}),k;for(k in f)if(f.hasOwnProperty(k))if("object"!==typeof f[k]||$.isArray(f[k]))this[k]=f[k];else for(var h in f[k])f[k].hasOwnProperty(h)&&(void 0===this[k]&&(this[k]={}),this[k][h]=f[k][h]);void 0!=f.displayRecordsUrl&&(biocacheWebappUrl=f.displayRecordsUrl);this.chartsDiv=$("#"+(this.chartsDiv||"charts"));var b=this,c=this.buildDataTable(g,a,d);if(!(2>c.getNumberOfRows())){a=$("#"+g);0==a.length&&(a=$("<div id='"+g+"'></div>"),this.chartsDiv.append(a));
a.addClass("chart-"+this.chartType);switch(this.chartType){case "column":this.chart=new google.visualization.ColumnChart(a[0]);break;case "bar":this.chart=new google.visualization.BarChart(a[0]);break;case "line":this.chart=new google.visualization.LineChart(a[0]);break;case "scatter":this.chart=new google.visualization.ScatterChart(a[0]);break;default:this.chart=new google.visualization.PieChart(a[0])}this.chart.draw(c,this.googleChartOptions());this.transformDataAfter(c,$.extend(!0,{},this.googleChartOptions()));
0!=this.clickThru&&google.visualization.events.addListener(this.chart,"select",function(){var a=c.getValue(b.chart.getSelection()[0].row,0),d=g+":"+a;if("occurrence_year"==g||"decade"==g)"before"==a.match("^before")?d="occurrence_year:[*%20TO%201849-12-31T23:59:59Z]":(a=a.substr(0,4),d=parseInt(a)+9,d="occurrence_year:["+a+"-01-01T00:00:00Z%20TO%20"+d+"-12-31T23:59:59Z]");document.location=urlConcat(biocacheWebappUrl,"/occurrences/search?q=")+b.query+"&fq="+d})}},buildDataTable:function(a,d,g){this.column1DataType=
this.column1||"string";var f=this,k=d[a];"undefined"!==f.singleFacetName&&null!=f.singleFacetName&&(k=d[f.singleFacetName]);var k=this.transformData(k),k=this.formatLabel(k),h=new google.visualization.DataTable;if((a=this.getChartTypeOptions(a))&&a.facets&&"undefined"==g.outlierValues){h.addColumn(this.column1DataType,this.chartLabel());for(var b=0;b<a.facets.length;b++)h.addColumn("number",a.facetLabels?a.facetLabels[b]:this.chartLabel())}else void 0!==g.outlierValues?(h.addColumn("number",this.chartLabel()),
h.addColumn("number","records"),h.addColumn("number","outliers"),h.addColumn("number","this record (outlier)")):("number"==this.column1DataType?h.addColumn("number",this.chartLabel()):h.addColumn("string",this.chartLabel()),h.addColumn("number","records"));if(a&&a.facets&&1<a.facets.length){var k=d[a.facets[1]],c,e;$.each(d[a.facets[0]],function(a,b){h.addRow([parseFloat(b.label),b.count,null])});$.each(k,function(a,b){c=parseFloat(b.label);e=h.getFilteredRows([{column:1,value:c}]);0<e.length?h.setCell(e[0],
3,b.count):h.addRow([parseFloat(b.label),null,b.count])})}else void 0!==g.outlierValues?$.each(k,function(a,b){if("undefined"!==f.ignore||-1==$.inArray(b.label,f.ignore))detectCamelCase(b.label)?h.addRow([{v:b.label,f:capitalise(expandCamelCase(b.label))},b.count,null,null]):"number"===f.column1DataType?void 0!==g.highlightedValue&&b.label==g.highlightedValue?h.addRow([parseFloat(b.label),null,null,b.count]):0<=$.inArray(parseFloat(b.label),g.outlierValues)?h.addRow([parseFloat(b.label),null,b.count,
null]):h.addRow([parseFloat(b.label),b.count,null,null]):h.addRow([parseFloat(b.label),b.count,null,null])}):$.each(k,function(a,b){var c;if(void 0==f.ignore||-1==$.inArray(b.label,f.ignore))a=b.label,c=b.formattedLabel,b=b.count,detectCamelCase(a)&&(c=capitalise(expandCamelCase(a))),"number"===f.column1DataType&&(a=parseFloat(a)),a=void 0!==c?{v:a,f:c}:a,h.addRow([a,b])});return h},newChart:function(a){"function"!==typeof Object.create&&(Object.create=function(a){var d=function(){};d.prototype=a;
return new d});var d=Object.create(this),g;for(g in a)a.hasOwnProperty(g)&&(d[g]=a[g]);return d}},facetChartTypes={pie:function(){return baseFacetChart.newChart({chartType:"pie"})},bar:function(){var a=baseFacetChart.chartArea;a.left=170;return baseFacetChart.newChart({chartType:"bar",chartArea:a})},column:function(){var a=baseFacetChart.chartArea;a.left=60;a.height="58%";return baseFacetChart.newChart({chartType:"column",width:450,chartArea:a,hAxis:{slantedText:!0},legend:"none"})},scatter:function(){var a=
baseFacetChart.chartArea;a.left=60;a.height="65%";return baseFacetChart.newChart({chartType:"scatter",vAxis:{title:"count"},chartArea:a,column1:"number"})}},defaultChartTypes={state:"pie",institution:"pie",data_resource_uid:"pie",type_status:"pie",species_group:"pie",assertions:"bar",occurrence_year:"column",decade:"column",year:"column",month:"column",biogeographic_region:"pie",state_conservation:"column",el895:"scatter",el882:"scatter",el882OutliersCumm:"scatter",el882Outliers:"scatter",el887:"scatter",
el887Outliers:"scatter",el887OutliersCumm:"scatter",el889:"scatter",el889Outliers:"scatter",el889OutliersCumm:"scatter",el865:"scatter",el865Outliers:"scatter",el865OutliersCumm:"scatter",el894:"scatter",el894Outliers:"scatter",el894OutliersCumm:"scatter",radiation:"scatter",precipitation:"scatter",moisture:"scatter"},facetChartGroup={createChart:function(a,d,g){var f=facetChartTypes[d[a]&&d[a].chartType?d[a].chartType:defaultChartTypes[a]||"pie"]();f.name=a;f.init(g,d);return f},buildFacetsFromChartName:function(a){var d=
[a];(a=baseFacetChart.individualChartOptions[a])&&a.facets&&(d=a.facets);return"&facets="+d.join("&facets=")},loadAndDrawFacetCharts:function(a){var d=void 0==a.biocacheServicesUrl?baseFacetChart.biocacheServicesUrl:a.biocacheServicesUrl,g="",f=$("#"+(a.chartsDiv?a.chartsDiv:baseFacetChart.chartsDiv)),k=this;$.each(a.charts,function(a,b){g+=k.buildFacetsFromChartName(b)});f.append($("<span>Loading charts...</span>"));$.ajax({url:urlConcat(d,"/occurrences/search.json?pageSize=0&flimit=200&q=")+a.query+
g+"&fsort=index",dataType:"jsonp",error:function(){cleanUp()},success:function(d){f.find("span").remove();k.drawFacetCharts(d,a)}})},drawFacetCharts:function(a,d){if(0!=a.length&&void 0!=a.totalRecords&&0!=a.totalRecords){d.totalRecordsSelector&&$(d.totalRecordsSelector).html(addCommas(a.totalRecords));if(void 0!==d.cumulative&&d.cumulative)for(var g=0,f=0;f<a.facetResults[0].fieldResult.length;f++)g+=a.facetResults[0].fieldResult[f].count,a.facetResults[0].fieldResult[f].count=g;var k={};$.each(a.facetResults,
function(a,c){k[c.fieldName]=c.fieldResult});$("#"+(d.targetDivId?d.targetDivId:"charts"));var h=this;$.each(d.charts,function(a,c){h.createChart(c,d,k)})}}},loadAndDrawFacetCharts=function(a){var d=void 0==a.biocacheServicesUrl?baseFacetChart.biocacheServicesUrl:a.biocacheServicesUrl,g=a.charts.join("&facets="),f=$("#"+(a.chartsDiv?a.chartsDiv:baseFacetChart.chartsDiv));f.append($("<span>Loading charts...</span>"));$.ajax({url:urlConcat(d,"/occurrences/search.json?pageSize=0&q=")+a.query+"&facets="+
g+"&fsort=index",dataType:"jsonp",error:function(){cleanUp()},success:function(d){f.find("span").remove();drawFacetCharts(d,a)}})},collectionsUrl="https://collections.ala.org.au",biocacheServicesUrl="https://biocache.ala.org.au/ws",biocacheWebappUrl="https://biocache.ala.org.au",taxonomyPieChartOptions={width:480,height:350,chartArea:{left:0,top:30,width:"100%",height:"70%"},is3D:!1,titleTextStyle:{color:"#555",fontName:"Arial",fontSize:15},sliceVisibilityThreshold:0,legend:"right"},genericChartOptions=
{width:480,height:350,chartArea:{left:0,top:30,width:"100%",height:"70%"},is3D:!1,titleTextStyle:{color:"#555",fontName:"Arial",fontSize:15},sliceVisibilityThreshold:0,legend:"right",chartType:"pie"},individualChartOptions={state_conservation:{chartType:"column",width:450,chartArea:{left:60,height:"58%"},title:"By state conservation status",hAxis:{slantedText:!0}},occurrence_year:{chartType:"column",width:450,chartArea:{left:60,height:"65%"},hAxis:{slantedText:!0}},species_group:{title:"By higher-level group",
ignore:["Animals"]},state:{ignore:["Unknown1"]},type_status:{title:"By type status (as % of all type specimens)",ignore:["notatype"]},assertions:{chartType:"bar",chartArea:{left:170}}},chartLabels={institution_uid:"institution",data_resource_uid:"data set",assertions:"data assertion",biogeographic_region:"biogeographic region",occurrence_year:"decade"},asyncTransforms={},syncTransforms={collection_uid:{method:"transformFqData"},institution_uid:{method:"transformFqData"},data_resource_uid:{method:"transformFqData"},
occurrence_year:{method:"transformDecadeData"},month:{method:"transformMonthData"}};
function loadFacetCharts(a){void 0!=a.collectionsUrl&&(collectionsUrl=a.collectionsUrl);void 0!=a.biocacheServicesUrl&&(biocacheServicesUrl=a.biocacheServicesUrl);void 0!=a.displayRecordsUrl&&(biocacheWebappUrl=a.displayRecordsUrl);var d=$("#"+(a.targetDivId?a.targetDivId:"charts"));d.append($("<span>Loading charts...</span>"));console.log("loadFacetCharts");console.log(a);var g=a.query?a.query:buildQueryString(a.instanceUid);$.ajax({url:urlConcat(biocacheServicesUrl,"/occurrences/search.json?pageSize=0&q=")+
g+"&fsort=index",dataType:"jsonp",error:function(){cleanUp()},success:function(f){d.find("span").remove();drawFacetCharts(f,a)}})}function cleanUp(a){$("img.loading").remove();if(void 0!=a&&a.error)window[a.error]()}
function drawFacetCharts(a,d){if(0!=a.length&&void 0!=a.totalRecords&&0!=a.totalRecords){d.totalRecordsSelector&&$(d.totalRecordsSelector).html(addCommas(a.totalRecords));var g={};$.each(a.facetResults,function(a,b){g[b.fieldName]=b.fieldResult});var f=$("#"+(d.targetDivId?d.targetDivId:"charts")),k=d.query?d.query:buildQueryString(d.instanceUid);$.each(d.charts,function(a,b){void 0!=g[b]&&buildGenericFacetChart(b,g[b],k,f,d)})}}
function buildGenericFacetChart(a,d,g,f,k){var h=chartLabels[a]?chartLabels[a]:a,b=$.extend({},genericChartOptions);b.title="By "+h;var b=$.extend(!0,{},b,individualChartOptions[a]?individualChartOptions[a]:{},k[a]),c=d;syncTransforms[a]&&(c=window[syncTransforms[a].method](d));var e=new google.visualization.DataTable;e.addColumn("string",h);e.addColumn("number","records");$.each(c,function(a,c){if(void 0==b||void 0==b.ignore||-1==$.inArray(c.label,b.ignore))detectCamelCase(c.label)?e.addRow([{v:c.label,
f:capitalise(expandCamelCase(c.label))},c.count]):c.formattedLabel?e.addRow([{v:c.label,f:c.formattedLabel},c.count]):e.addRow([c.label,c.count])});if(!(2>e.getNumberOfRows())){d=$("#"+a);0==d.length&&(d=$("<div id='"+a+"'></div>"),f.append(d));d.addClass("chart-"+b.chartType);console.log("Loading chart");console.log(b);var w;switch(b.chartType){case "column":w=new google.visualization.ColumnChart(document.getElementById(a));break;case "bar":w=new google.visualization.BarChart(document.getElementById(a));
break;case "line":w=new google.visualization.LineChart(document.getElementById(a));break;case "scatter":w=new google.visualization.ScatterChart(document.getElementById(a));break;default:w=new google.visualization.PieChart(document.getElementById(a))}w.draw(e,b);if(asyncTransforms[a])window[asyncTransforms[a].method](w,e,b,asyncTransforms[a].param);0!=k.clickThru&&google.visualization.events.addListener(w,"select",function(){var b=e.getValue(w.getSelection()[0].row,0),c;c=-1!=b.indexOf(a)?b:a+":"+
b;"occurrence_year"==a&&("before"==b.match("^before")?c="occurrence_year:[*%20TO%201850-01-01T12:00:00Z]":(b=b.substr(0,4),c=parseInt(b)+10,c="occurrence_year:["+b+"-01-01T12:00:00Z%20TO%20"+c+"-01-01T12:00:00Z]"));document.location=urlConcat(biocacheWebappUrl,"/occurrences/search?q=")+g+"&fq="+c})}}
function transformDecadeData(a){var d,g=[];$.each(a,function(a,k){if("before"==k.label)g.splice(0,0,{label:"before "+d,count:k.count});else{var h=k.label.substr(0,4);0==a&&(d=h);g.push({label:h+"s",count:k.count})}});return g}function transformMonthData(a){var d="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),g;$.each(a,function(a,k){g=parseInt(k.label,10);k.formattedLabel=d[g-1]});return a}
function transformFqData(a){$.each(a,function(a,g){g.fq&&(g.formattedLabel=g.label,g.label=g.fq)});return a}function detectCamelCase(a){return/[a-z][A-Z]/.test(a)}function expandCamelCase(a){return a.replace(/([a-z])([A-Z])/g,function(a,g,f){return g+" "+f.toLowerCase()})}function capitalise(a){return a.replace(/^./,function(a){return a.toUpperCase()})}
function lookupEntityName(a,d,g,f){f=[];for(var k=0;j=d.getNumberOfRows(),k<j;k++)f.push(d.getValue(k,0));$.jsonp({url:collectionsUrl+"/ws/resolveNames/"+f.join(",")+"?callback=?",cache:!0,success:function(f){for(var b=0;j+d.getNumberOfRows(),b<j;b++){var c=d.getValue(b,0);d.setCell(b,0,c,f[c])}a.draw(d,g)},error:function(a,b){alert(b)}})}
function lookupEntityNameFromUids(a,d,g){for(var f=[],k=0;j=d.getNumberOfRows(),k<j;k++)f.push(d.getValue(k,0));$.jsonp({url:collectionsUrl+"/ws/resolveNames/"+f.join(",")+"?callback=?",cache:!0,success:function(f){for(var b=0;j+d.getNumberOfRows(),b<j;b++){var c=d.getValue(b,0);d.setCell(b,0,c,f[c])}a.draw(d,g)},error:function(a,b){alert(b)}})}
var taxonomyChart={baseQuery:"",query:"",rank:void 0,name:void 0,threshold:void 0,chartOptions:{},historyState:[],hasState:function(){return 0<this.historyState.length},pushState:function(){this.historyState.push({rank:this.rank,name:this.name})},popState:function(){return this.hasState()?this.historyState.pop():{}},cleanUp:function(){$("img.loading").remove();if(void 0!=this.chartOptions&&this.chartOptions.error)window[this.chartOptions.error]()},load:function(a){var d=this;a&&(this.chartOptions=
a,void 0!=a.collectionsUrl&&(collectionsUrl=a.collectionsUrl),void 0!=a.biocacheServicesUrl&&(biocacheServicesUrl=a.biocacheServicesUrl),void 0!=a.displayRecordsUrl&&(biocacheWebappUrl=a.displayRecordsUrl),this.baseQuery=a.query?a.query:buildQueryString(a.instanceUid),this.query=this.baseQuery+(a.subquery?a.subquery:""),this.rank=a.rank,this.name=a.name,this.threshold=a.threshold);a=urlConcat(biocacheServicesUrl,"/breakdown.json?q=")+this.query;a=this.rank?a+("&rank="+this.rank+(this.name?"&name="+
this.name:"")):a+("&max="+(this.threshold?this.threshold:"55"));$.ajax({url:a,dataType:"jsonp",timeout:3E4,complete:function(a,f){"timeout"==f&&alert("Sorry - the request was taking too long so it has been cancelled.");"error"==f&&alert("Sorry - the chart cannot be redrawn due to an error.");"success"!=f&&d.cleanUp()},success:function(a){void 0!=a&&0<a.taxa.length&&d.draw(a)}})},draw:function(a){var d=this,g=new google.visualization.DataTable;g.addColumn("string",chartLabels[name]?chartLabels[name]:
name);g.addColumn("number","records");$.each(a.taxa,function(a,b){g.addRow([b.label,b.count])});var f=$.extend({},taxonomyPieChartOptions),f=$.extend(!0,f,this.chartOptions);f.title=f.name?f.name+" records by "+a.rank:"By "+a.rank;var k=$("#taxa");0==k.length&&(k=$('<div id="taxa"></div>'),k.css("margin-bottom","-50px"),$("div#"+(this.chartOptions.targetDivId?this.chartOptions.targetDivId:"charts")).prepend(k));var h=$("#taxaChart");0==h.length&&(h=$("<div id='taxaChart' class='chart-pie'></div>"),
k.append(h));var b=new google.visualization.PieChart(document.getElementById("taxaChart"));if(this.chartOptions.notifyChange)window[this.chartOptions.notifyChange](this.rank,this.name);b.draw(g,f);var c=$("#backLink");0==c.length&&(c=$('<div class="link" id="backLink">&laquo; Previous rank</div>').appendTo(k),c.css("position","relative").css("top","-75px"),c.click(function(){if(c.hasClass("link")){h.append($('<img class="loading" style="position:absolute;left:130px;top:220px;z-index:2000" alt="loading..." src="'+
collectionsUrl+'/images/ala/ajax-loader.gif"/>'));var a=d.popState();taxonomyChart.rank=a.rank;taxonomyChart.name=a.name;d.load()}}));this.hasState()?c.html("&laquo; Previous rank").addClass("link"):c.html("Click a slice to drill into the next taxonomic level.").removeClass("link");f=$("#recordsLink");0==f.length&&(f=$('<div class="link under" id="recordsLink">View records</div>').appendTo(k),f.css("position","relative").css("top","-75px"),f.click(function(){d.showRecords()}));this.hasState()?f.html("View records for "+
this.rank+" "+this.name):f.html("View all records");var e=void 0==this.chartOptions.clickThru?!0:this.chartOptions.clickThru,w=void 0==this.chartOptions.drillDown?!0:this.chartOptions.drillDown;(e||w)&&google.visualization.events.addListener(b,"select",function(){var c=g.getValue(b.getSelection()[0].row,0);w&&"species"!=a.rank?(h.append($('<img class="loading" style="position:absolute;left:130px;top:220px;z-index:2000" alt="loading..." src="'+collectionsUrl+'/images/ala/ajax-loader.gif"/>')),d.pushState(),
d.rank=a.rank,d.name=c,d.load()):e&&(document.location=urlConcat(biocacheWebappUrl,"/occurrences/search?q=")+query+"&fq="+a.rank+":"+c)})},showRecords:function(){var a="";void 0!=this.rank&&void 0!=this.name&&(a="&fq="+this.rank+":"+this.name);document.location=urlConcat(biocacheWebappUrl,"/occurrences/search?q=")+this.query+a},reset:function(){if(this.hasState()){var a=this.historyState[0];this.rank=a.rank;this.name=a.name}this.query=this.baseQuery;this.load()},updateQuery:function(a){this.query=
a;this.load()}};
function initTaxonTree(a){var d=a.query?a.query:buildQueryString(a.instanceUid),g=$("#"+(a.targetDivId?a.targetDivId:"tree")),f=a.title||"Explore records by taxonomy";""!==a.title&&g.append($("<h4>"+f+"</h4>"));var k=$('<div id="treeContainer"></div>').appendTo(g);k.resizable({maxHeight:900,minHeight:100,maxWidth:900,minWidth:500});var h=$('<div id="taxaTree"></div>').appendTo(k);h.bind("after_open.jstree",function(a,c){a=$.jstree._reference(c.rslt.obj)._get_children(c.rslt.obj);1==a.length&&h.jstree("open_node",
a[0]);a=h[0].scrollHeight;a>h.height()&&(a=Math.min(a,700),k.animate({height:a}))}).bind("select_node.jstree",function(a,c){h.jstree("show_contextmenu",c.rslt.obj)}).bind("loaded.jstree",function(a,c){h.jstree("open_node","#top")}).jstree({json_data:{data:{data:"Kingdoms",state:"closed",attr:{rank:"kingdoms",id:"top"}},ajax:{url:function(a){var c=$(a).attr("rank"),e=urlConcat(biocacheServicesUrl,"/breakdown.json?q=")+d+"&rank=";return e="kingdoms"==c?e+"kingdom":e+(c+"&name="+$(a).attr("id"))},dataType:"jsonp",
success:function(a){var c=[],e=a.rank;$.each(a.taxa,function(a,b){a=b.label+" - "+b.count;"species"==e?c.push({data:a,attr:{rank:e,id:b.label}}):c.push({data:a,state:"closed",attr:{rank:e,id:b.label}})});return c},error:function(a,c){}}},core:{animation:200,open_parents:!0},themes:{theme:a.theme||"default",icons:a.icons||!1,url:a.serverUrl+"/js/themes/"+(a.theme||"default")+"/style.css"},checkbox:{override_ui:!0},contextmenu:{select_node:!1,show_at_node:!1,items:{records:{label:"Show records",action:function(a){showRecords(a,
d)}},bie:{label:"Show information",action:function(a){showBie(a)}},create:!1,rename:!1,remove:!1,ccp:!1}},plugins:["json_data","themes","ui","contextmenu"]})}function showRecords(a,d){var g=a.attr("rank");"kingdoms"!=g&&(a=a.attr("id"),d=urlConcat(biocacheWebappUrl,"/occurrences/search?q=")+d+"&fq="+g+":"+a,document.location.href=d)}function showBie(a){var d=a.attr("rank");"kingdoms"!=d&&(a="https://bie.ala.org.au/species/"+a.attr("id"),"species"!=d&&(a+="_("+d+")"),document.location.href=a)}
function buildQueryString(a){a="string"==typeof a?a.split(","):a;var d="";$.each(a,function(a,f){d+=solrFieldNameForUid(f)+":"+f+" OR "});return d.substring(0,d.length-4)}function solrFieldNameForUid(a){switch(a.substring(0,2)){case "co":return"collection_uid";case "in":return"institution_uid";case "dp":return"data_provider_uid";case "dr":return"data_resource_uid";case "dh":return"data_hub_uid";default:return""}}
function wsEntityForBreakdown(a){switch(a.substr(0,2)){case "co":return"collections";case "in":return"institutions";case "dr":return"dataResources";case "dp":return"dataProviders";case "dh":return"dataHubs";default:return""}}function urlConcat(a,d){a=a.replace(/\/$/,"");d=d.replace(/^\//,"");return a+"/"+d}function addCommas(a){x=(a+"").split(".");x1=x[0];x2=1<x.length?"."+x[1]:"";for(a=/(\d+)(\d{3})/;a.test(x1);)x1=x1.replace(a,"$1,$2");return x1+x2}
function bound(a,d,g){null!=d&&(a=Math.max(a,d));null!=g&&(a=Math.min(a,g));return a}function degreesToRadians(a){return Math.PI/180*a}function radiansToDegrees(a){return a/(Math.PI/180)}function MercatorProjection(){this.pixelOrigin_=new google.maps.Point(128,128);this.pixelsPerLonDegree_=256/360;this.pixelsPerLonRadian_=256/(2*Math.PI)}
MercatorProjection.prototype.fromLatLngToPoint=function(a,d){d=d||new google.maps.Point(0,0);var g=this.pixelOrigin_;d.x=g.x+a.lng()*this.pixelsPerLonDegree_;a=bound(Math.sin(degreesToRadians(a.lat())),-.9999,.9999);d.y=g.y+.5*Math.log((1+a)/(1-a))*-this.pixelsPerLonRadian_;return d};
MercatorProjection.prototype.fromDivPixelToLatLng=function(a,d){var g=this.pixelOrigin_,f=Math.pow(2,d);d=(a.x/f-g.x)/this.pixelsPerLonDegree_;a=radiansToDegrees(2*Math.atan(Math.exp((a.y/f-g.y)/-this.pixelsPerLonRadian_))-Math.PI/2);return new google.maps.LatLng(a,d)};
MercatorProjection.prototype.fromDivPixelToSphericalMercator=function(a,d){d=this.fromDivPixelToLatLng(a,d);a=6378137*degreesToRadians(d.lng());d=degreesToRadians(d.lat());return new google.maps.Point(a,3189068.5*Math.log((1+Math.sin(d))/(1-Math.sin(d))))};
function loadWMS(a,d,g){var f="REQUEST=GetMap SERVICE=WMS VERSION=1.1.1 BGCOLOR=0xFFFFFF TRANSPARENT=TRUE SRS=EPSG:900913 WIDTH=256 HEIGHT=256".split(" "),f=f.concat(g);g={getTileUrl:function(a,g){var b=new google.maps.Point(256*a.x,256*(a.y+1));a=new google.maps.Point(256*(a.x+1),256*a.y);var c=new MercatorProjection,b=c.fromDivPixelToSphericalMercator(b,g);a=c.fromDivPixelToSphericalMercator(a,g);g=b.y;b=b.x;c=a.y;a=a.x;a<b&&(a=Math.abs(a));return d+f.join("&")+"&bbox="+b+","+g+","+a+","+c},tileSize:new google.maps.Size(256,
256),minZoom:2,maxZoom:28,opacity:.75,isPng:!0};overlayWMS=new google.maps.ImageMapType(g);a.overlayMapTypes.insertAt(0,overlayWMS);a.setOptions({mapTypeControlOptions:{mapTypeIds:[google.maps.MapTypeId.ROADMAP,google.maps.MapTypeId.TERRAIN,google.maps.MapTypeId.SATELLITE,google.maps.MapTypeId.HYBRID],style:google.maps.MapTypeControlStyle.DROPDOWN_MENU}})}
(function(a,d){var g=[].slice,f={};a.amplify={publish:function(a){if("string"!==typeof a)throw Error("You must provide a valid topic to publish.");var d=g.call(arguments,1),b,c,e,w=0;if(!f[a])return!0;b=f[a].slice();for(e=b.length;w<e&&(c=b[w],c=c.callback.apply(c.context,d),!1!==c);w++);return!1!==c},subscribe:function(a,d,b,c){if("string"!==typeof a)throw Error("You must provide a valid topic to create a subscription.");3===arguments.length&&"number"===typeof b&&(c=b,b=d,d=null);2===arguments.length&&
(b=d,d=null);c=c||10;for(var e=0,g=a.split(/\s/),z=g.length,C;e<z;e++){a=g[e];C=!1;f[a]||(f[a]=[]);for(var q=f[a].length-1,l={callback:b,context:d,priority:c};0<=q;q--)if(f[a][q].priority<=c){f[a].splice(q+1,0,l);C=!0;break}C||f[a].unshift(l)}return b},unsubscribe:function(a,d,b){if("string"!==typeof a)throw Error("You must provide a valid topic to remove a subscription.");2===arguments.length&&(b=d,d=null);if(f[a])for(var c=f[a].length,e=0;e<c;e++)f[a][e].callback!==b||d&&f[a][e].context!==d||(f[a].splice(e,
1),e--,c--)}}})(this);
(function(a,d){function g(a,c){f.addType(a,function(e,g,h){var C,q=g,l=(new Date).getTime();if(!e){q={};h=[];g=0;try{for(e=c.length;e=c.key(g++);)k.test(e)&&(C=JSON.parse(c.getItem(e)),C.expires&&C.expires<=l?h.push(e):q[e.replace(k,"")]=C.data);for(;e=h.pop();)c.removeItem(e)}catch(n){}return q}e="__amplify__"+e;if(g===d)if(C=(C=c.getItem(e))?JSON.parse(C):{expires:-1},C.expires&&C.expires<=l)c.removeItem(e);else return C.data;else if(null===g)c.removeItem(e);else{C=JSON.stringify({data:g,expires:h.expires?
l+h.expires:null});try{c.setItem(e,C)}catch(n){f[a]();try{c.setItem(e,C)}catch(m){throw f.error();}}}return q})}var f=a.store=function(a,c,e){var d=f.type;e&&e.type&&e.type in f.types&&(d=e.type);return f.types[d](a,c,e||{})};f.types={};f.type=null;f.addType=function(a,c){f.type||(f.type=a);f.types[a]=c;f[a]=function(c,d,g){g=g||{};g.type=a;return f(c,d,g)}};f.error=function(){return"amplify.store quota exceeded"};var k=/^__amplify__/,h;for(h in{localStorage:1,sessionStorage:1})try{window[h].setItem("__amplify__",
"x"),window[h].removeItem("__amplify__"),g(h,window[h])}catch(b){}if(!f.types.localStorage&&window.globalStorage)try{g("globalStorage",window.globalStorage[window.location.hostname]),"sessionStorage"===f.type&&(f.type="globalStorage")}catch(b){}(function(){if(!f.types.localStorage){var a=document.createElement("div");a.style.display="none";document.getElementsByTagName("head")[0].appendChild(a);try{a.addBehavior("#default#userdata"),a.load("amplify")}catch(c){a.parentNode.removeChild(a);return}f.addType("userData",
function(c,e,g){a.load("amplify");var h,k,q=e,l=(new Date).getTime();if(!c){q={};k=[];for(c=0;e=a.XMLDocument.documentElement.attributes[c++];)h=JSON.parse(e.value),h.expires&&h.expires<=l?k.push(e.name):q[e.name]=h.data;for(;c=k.pop();)a.removeAttribute(c);a.save("amplify");return q}c=c.replace(/[^\-._0-9A-Za-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c-\u200d\u203f\u2040\u2070-\u218f]/g,"-");c=c.replace(/^-/,"_-");if(e===d)if(h=(e=a.getAttribute(c))?JSON.parse(e):{expires:-1},h.expires&&
h.expires<=l)a.removeAttribute(c);else return h.data;else null===e?a.removeAttribute(c):(k=a.getAttribute(c),h=JSON.stringify({data:e,expires:g.expires?l+g.expires:null}),a.setAttribute(c,h));try{a.save("amplify")}catch(n){null===k?a.removeAttribute(c):a.setAttribute(c,k);f.userData();try{a.setAttribute(c,h),a.save("amplify")}catch(m){throw null===k?a.removeAttribute(c):a.setAttribute(c,k),f.error();}}return q})}})();(function(){function a(c){return c===d?d:JSON.parse(JSON.stringify(c))}var c={},
e={};f.addType("memory",function(f,g,h){if(!f)return a(c);if(g===d)return a(c[f]);e[f]&&(clearTimeout(e[f]),delete e[f]);if(null===g)return delete c[f],null;c[f]=g;h.expires&&(e[f]=setTimeout(function(){delete c[f];delete e[f]},h.expires));return g})})()})(this.amplify=this.amplify||{});
(function(a,d){function g(){}function f(a){var d=!1;setTimeout(function(){d=!0},1);return function(){var b=this,c=arguments;d?a.apply(b,c):setTimeout(function(){a.apply(b,c)},1)}}a.request=function(d,h,b){var c=d||{};"string"===typeof c&&("[object Function]"==={}.toString.call(h)&&(b=h,h={}),c={resourceId:d,data:h||{},success:b});d={abort:g};h=a.request.resources[c.resourceId];var e=c.success||g,w=c.error||g;c.success=f(function(b,d){d=d||"success";a.publish("request.success",c,b,d);a.publish("request.complete",
c,b,d);e(b,d)});c.error=f(function(b,d){d=d||"error";a.publish("request.error",c,b,d);a.publish("request.complete",c,b,d);w(b,d)});if(!h){if(!c.resourceId)throw"amplify.request: no resourceId provided";throw"amplify.request: unknown resourceId: "+c.resourceId;}if(a.publish("request.before",c))return a.request.resources[c.resourceId](c,d),d;c.error(null,"abort")};a.request.types={};a.request.resources={};a.request.define=function(d,f,b){if("string"===typeof f){if(!(f in a.request.types))throw"amplify.request.define: unknown type: "+
f;b.resourceId=d;a.request.resources[d]=a.request.types[f](b)}else a.request.resources[d]=f}})(amplify);
(function(a,d,g){var f=["status","statusText","responseText","responseXML","readyState"],k=/\{([^\}]+)\}/g;a.request.types.ajax=function(b){b=d.extend({type:"GET"},b);return function(c,e){var h,k,C=e.abort,q=d.extend(!0,{},b,{data:c.data}),l=!1,n={readyState:0,setRequestHeader:function(a,b){return h.setRequestHeader(a,b)},getAllResponseHeaders:function(){return h.getAllResponseHeaders()},getResponseHeader:function(a){return h.getResponseHeader(a)},overrideMimeType:function(a){return h.overrideMimeType(a)},
abort:function(){l=!0;try{h.abort()}catch(a){}k(null,"abort")},success:function(a,b){c.success(a,b)},error:function(a,b){c.error(a,b)}};k=function(a,b){d.each(f,function(a,b){try{n[b]=h[b]}catch(c){}});/OK$/.test(n.statusText)&&(n.statusText="success");a===g&&(a=null);l&&(b="abort");/timeout|error|abort/.test(b)?n.error(a,b):n.success(a,b);k=d.noop};a.publish("request.ajax.preprocess",b,c,q,n);d.extend(q,{isJSONP:function(){return/jsonp/gi.test(this.dataType)},cacheURL:function(){if(!this.isJSONP())return this.url;
var a="callback";this.hasOwnProperty("jsonp")&&(!1!==this.jsonp?a=this.jsonp:this.hasOwnProperty("jsonpCallback")&&(a=this.jsonpCallback));return this.url.replace(new RegExp("&?"+a+"=[^&]*&?","gi"),"")},success:function(a,b){k(a,b)},error:function(a,b){k(null,b)},beforeSend:function(d,e){h=d;q=e;return(b.beforeSend?b.beforeSend.call(this,n,q):!0)&&a.publish("request.before.ajax",b,c,q,n)}});q.cache&&q.isJSONP()&&d.extend(q,{cache:!0});d.ajax(q);e.abort=function(){n.abort();C.call(this)}}};a.subscribe("request.ajax.preprocess",
function(a,c,e){var f=[],g=e.data;"string"!==typeof g&&(g=d.extend(!0,{},a.data,g),e.url=e.url.replace(k,function(a,b){if(b in g)return f.push(b),g[b]}),d.each(f,function(a,b){delete g[b]}),e.data=g)});a.subscribe("request.ajax.preprocess",function(a,c,e){var f=e.data;(c=a.dataMap)&&"string"!==typeof f&&(d.isFunction(c)?e.data=c(f):(d.each(a.dataMap,function(a,b){a in f&&(f[b]=f[a],delete f[a])}),e.data=f))});var h=a.request.cache={_key:function(a,c,d){function f(){return d.charCodeAt(g++)<<24|d.charCodeAt(g++)<<
16|d.charCodeAt(g++)<<8|d.charCodeAt(g++)<<0}d=c+d;c=d.length;for(var g=0,h=f();g<c;)h^=f();return"request-"+a+"-"+h},_default:function(){var a={};return function(c,d,f,g){var k=h._key(d.resourceId,f.cacheURL(),f.data),q=c.cache;if(k in a)return g.success(a[k]),!1;var l=g.success;g.success=function(c){a[k]=c;"number"===typeof q&&setTimeout(function(){delete a[k]},q);l.apply(this,arguments)}}}()};a.store&&(d.each(a.store.types,function(b){h[b]=function(c,d,f,g){var k=h._key(d.resourceId,f.cacheURL(),
f.data);if(d=a.store[b](k))return f.success(d),!1;var q=g.success;g.success=function(d){a.store[b](k,d,{expires:c.cache.expires});q.apply(this,arguments)}}}),h.persist=h[a.store.type]);a.subscribe("request.before.ajax",function(a){var c=a.cache;if(c)return c=c.type||c,h[c in h?c:"_default"].apply(this,arguments)});a.request.decoders={jsend:function(a,c,d,f,g){"success"===a.status?f(a.data):"fail"===a.status?g(a.data,"fail"):"error"===a.status?(delete a.status,g(a,"error")):g(null,"error")}};a.subscribe("request.before.ajax",
function(b,c,e,f){function g(a,b){k(a,b)}function h(a,b){l(a,b)}var k=f.success,l=f.error,n=d.isFunction(b.decoder)?b.decoder:b.decoder in a.request.decoders?a.request.decoders[b.decoder]:a.request.decoders._default;n&&(f.success=function(a,b){n(a,b,f,g,h)},f.error=function(a,b){n(a,b,f,g,h)})})})(amplify,jQuery);
(function(a){function d(a,b){return function(c){return e(a.call(this,c),b)}}function g(a,b){return function(c){return this.lang().ordinal(a.call(this,c),b)}}function f(){}function k(a){B(a);b(this,a)}function h(a){var b=l(a),c=b.year||0,d=b.month||0,e=b.week||0,f=b.day||0,g=b.hour||0,h=b.minute||0,k=b.second||0,b=b.millisecond||0;this._input=a;this._milliseconds=+b+1E3*k+6E4*h+36E5*g;this._days=+f+7*e;this._months=+d+12*c;this._data={};this._bubble()}function b(a,b){for(var c in b)b.hasOwnProperty(c)&&
(a[c]=b[c]);return b.hasOwnProperty("toString")&&(a.toString=b.toString),b.hasOwnProperty("valueOf")&&(a.valueOf=b.valueOf),a}function c(a){return 0>a?Math.ceil(a):Math.floor(a)}function e(a,b){for(a+="";a.length<b;)a="0"+a;return a}function w(a,b,c,d){var e,f,g=b._milliseconds,h=b._days;b=b._months;g&&a._d.setTime(+a._d+g*c);(h||b)&&(e=a.minute(),f=a.hour());h&&a.date(a.date()+h*c);b&&a.month(a.month()+b*c);g&&!d&&p.updateOffset(a);(h||b)&&(a.minute(e),a.hour(f))}function z(a){return"[object Array]"===
Object.prototype.toString.call(a)}function C(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&m(a[d])!==m(b[d]))&&g++;return g+f}function q(a){if(a){var b=a.toLowerCase().replace(/(.)s$/,"$1");a=Ea[a]||Ua[b]||b}return a}function l(a){var b,c,d={};for(c in a)a.hasOwnProperty(c)&&(b=q(c),b&&(d[b]=a[c]));return d}function n(b){var c,d;if(0===b.indexOf("week"))c=7,d="day";else{if(0!==b.indexOf("month"))return;c=12;d="month"}p[b]=function(e,
f){var g,h=p.fn._lang[b],k=[];if("number"==typeof e&&(f=e,e=a),g=function(a){a=p().utc().set(d,a);return h.call(p.fn._lang,a,e||"")},null!=f)return g(f);for(f=0;c>f;f++)k.push(g(f));return k}}function m(a){a=+a;var b=0;return 0!==a&&isFinite(a)&&(b=0<=a?Math.floor(a):Math.ceil(a)),b}function r(a){return 0===a%4&&0!==a%100||0===a%400}function B(a){var b;a._a&&-2===a._pf.overflow&&(b=0>a._a[Z]||11<a._a[Z]?Z:1>a._a[D]||a._a[D]>(new Date(Date.UTC(a._a[O],a._a[Z]+1,0))).getUTCDate()?D:0>a._a[u]||23<a._a[u]?
u:0>a._a[H]||59<a._a[H]?H:0>a._a[fa]||59<a._a[fa]?fa:0>a._a[W]||999<a._a[W]?W:-1,a._pf._overflowDayOfYear&&(O>b||b>D)&&(b=D),a._pf.overflow=b)}function G(a){a._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1}}function A(a){return null==a._isValid&&(a._isValid=!isNaN(a._d.getTime())&&0>a._pf.overflow&&!a._pf.empty&&!a._pf.invalidMonth&&!a._pf.nullInput&&!a._pf.invalidFormat&&!a._pf.userInvalidated,a._strict&&
(a._isValid=a._isValid&&0===a._pf.charsLeftOver&&0===a._pf.unusedTokens.length)),a._isValid}function I(a){return a?a.toLowerCase().replace("_","-"):a}function t(a){var b,c,d,e,f=0,g=function(a){if(!T[a]&&xa)try{require("./lang/"+a)}catch(b){}return T[a]};if(!a)return p.fn._lang;if(!z(a)){if(c=g(a))return c;a=[a]}for(;f<a.length;){e=I(a[f]).split("-");b=e.length;for(d=(d=I(a[f+1]))?d.split("-"):null;0<b;){if(c=g(e.slice(0,b).join("-")))return c;if(d&&d.length>=b&&C(e,d,!0)>=b-1)break;b--}f++}return p.fn._lang}
function ea(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function J(a){var b,c,d=a.match(Fa);b=0;for(c=d.length;c>b;b++)d[b]=R[d[b]]?R[d[b]]:ea(d[b]);return function(e){var f="";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function U(a,b){return a.isValid()?(b=P(b,a.lang()),X[b]||(X[b]=J(b)),X[b](a)):a.lang().invalidDate()}function P(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(pa.lastIndex=0;0<=d&&pa.test(a);)a=a.replace(pa,
c),pa.lastIndex=0,--d;return a}function N(a,b){switch(a){case "DDDD":return cb;case "YYYY":case "GGGG":case "gggg":return db;case "YYYYY":case "GGGGG":case "ggggg":return eb;case "S":case "SS":case "SSS":case "DDD":return fb;case "MMM":case "MMMM":case "dd":case "ddd":case "dddd":return ya;case "a":case "A":return t(b._l)._meridiemParse;case "X":return gb;case "Z":case "ZZ":return ma;case "T":return hb;case "MM":case "DD":case "YY":case "GG":case "gg":case "HH":case "hh":case "mm":case "ss":case "M":case "D":case "d":case "H":case "h":case "m":case "s":case "w":case "ww":case "W":case "WW":case "e":case "E":return Va;
default:return b=RegExp,a=wa(a.replace("\\","")).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),new b(a)}}function V(a){a=((ma.exec(a)||[])[0]+"").match(ga)||["-",0,0];var b=+(60*a[1])+m(a[2]);return"+"===a[0]?-b:b}function K(a){var b,c,d,e,f,g,h,k,l,n=[];if(!a._d){c=Q(a);a._w&&null==a._a[D]&&null==a._a[Z]&&(e=function(b){return b?3>b.length?68<parseInt(b,10)?"19"+b:"20"+b:b:null==a._a[O]?p().weekYear():a._a[O]},f=a._w,null!=f.GG||null!=f.W||null!=f.E?g=ja(e(f.GG),f.W||1,f.E,4,1):(h=t(a._l),k=null!=f.d?
ia(f.d,h):null!=f.e?parseInt(f.e,10)+h._week.dow:0,l=parseInt(f.w,10)||1,null!=f.d&&k<h._week.dow&&l++,g=ja(e(f.gg),l,k,h._week.doy,h._week.dow)),a._a[O]=g.year,a._dayOfYear=g.dayOfYear);a._dayOfYear&&(d=null==a._a[O]?c[O]:a._a[O],a._dayOfYear>(r(d)?366:365)&&(a._pf._overflowDayOfYear=!0),b=Ca(d,0,a._dayOfYear),a._a[Z]=b.getUTCMonth(),a._a[D]=b.getUTCDate());for(b=0;3>b&&null==a._a[b];++b)a._a[b]=n[b]=c[b];for(;7>b;b++)a._a[b]=n[b]=null==a._a[b]?2===b?1:0:a._a[b];n[u]+=m((a._tzm||0)/60);n[H]+=m((a._tzm||
0)%60);a._d=(a._useUTC?Ca:S).apply(null,n)}}function Q(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function Y(a){a._a=[];a._pf.empty=!0;var b,c,d,e,f;b=t(a._l);var g=""+a._i,h=g.length,k=0;d=P(a._f,b).match(Fa)||[];for(b=0;b<d.length;b++)if(e=d[b],(c=(N(e,a).exec(g)||[])[0])&&(f=g.substr(0,g.indexOf(c)),0<f.length&&a._pf.unusedInput.push(f),g=g.slice(g.indexOf(c)+c.length),k+=c.length),R[e]){c?a._pf.empty=!1:a._pf.unusedTokens.push(e);
var l=a,n=l._a;switch(e){case "M":case "MM":null!=c&&(n[Z]=m(c)-1);break;case "MMM":case "MMMM":e=t(l._l).monthsParse(c);null!=e?n[Z]=e:l._pf.invalidMonth=c;break;case "D":case "DD":null!=c&&(n[D]=m(c));break;case "DDD":case "DDDD":null!=c&&(l._dayOfYear=m(c));break;case "YY":n[O]=m(c)+(68<m(c)?1900:2E3);break;case "YYYY":case "YYYYY":n[O]=m(c);break;case "a":case "A":l._isPm=t(l._l).isPM(c);break;case "H":case "HH":case "h":case "hh":n[u]=m(c);break;case "m":case "mm":n[H]=m(c);break;case "s":case "ss":n[fa]=
m(c);break;case "S":case "SS":case "SSS":n[W]=m(1E3*("0."+c));break;case "X":l._d=new Date(1E3*parseFloat(c));break;case "Z":case "ZZ":l._useUTC=!0;l._tzm=V(c);break;case "w":case "ww":case "W":case "WW":case "d":case "dd":case "ddd":case "dddd":case "e":case "E":e=e.substr(0,1);case "gg":case "gggg":case "GG":case "GGGG":case "GGGGG":e=e.substr(0,2),c&&(l._w=l._w||{},l._w[e]=c)}}else a._strict&&!c&&a._pf.unusedTokens.push(e);a._pf.charsLeftOver=h-k;0<g.length&&a._pf.unusedInput.push(g);a._isPm&&
12>a._a[u]&&(a._a[u]+=12);!1===a._isPm&&12===a._a[u]&&(a._a[u]=0);K(a);B(a)}function wa(a){return a.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e})}function S(a,b,c,d,e,f,g){b=new Date(a,b,c,d,e,f,g);return 1970>a&&b.setFullYear(a),b}function Ca(a){var b=new Date(Date.UTC.apply(null,arguments));return 1970>a&&b.setUTCFullYear(a),b}function ia(a,b){if("string"==typeof a)if(isNaN(a)){if(a=b.weekdaysParse(a),"number"!=typeof a)return null}else a=parseInt(a,10);return a}
function oa(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function ba(a,b,c){var d;b=c-b;c-=a.day();return c>b&&(c-=7),b-7>c&&(c+=7),d=p(a).add("d",c),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function ja(a,b,c,d,e){var f,g,h=(new Date(Date.UTC(a,0))).getUTCDay();return c=null!=c?c:e,f=e-h+(h>d?7:0),g=7*(b-1)+(c-e)+f+1,{year:0<g?a:a-1,dayOfYear:0<g?g:(r(a-1)?366:365)+g}}function ca(c){var d=c._i,e=c._f;"undefined"==typeof c._pf&&G(c);if(null===d)c=p.invalid({nullInput:!0});else{"string"==typeof d&&
(c._i=d=t().preparse(d));if(p.isMoment(d))c=b({},d),c._d=new Date(+d._d);else if(e)if(z(e)){var f=c,g,h,n;if(0===f._f.length)f._pf.invalidFormat=!0,f._d=new Date(0/0);else{for(d=0;d<f._f.length;d++)e=0,g=b({},f),G(g),g._f=f._f[d],Y(g),A(g)&&(e+=g._pf.charsLeftOver,e+=10*g._pf.unusedTokens.length,g._pf.score=e,(null==n||n>e)&&(n=e,h=g));b(f,h||g)}}else Y(c);else if(g=c,h=g._i,n=Ja.exec(h),h===a)g._d=new Date;else if(n)g._d=new Date(+n[1]);else if("string"==typeof h)if(n=g._i,f=Ka.exec(n)){for(h=4;0<
h;h--)if(f[h]){g._f=Wa[h-1]+(f[6]||" ");break}for(h=0;4>h;h++)if(Xa[h][1].exec(n)){g._f+=Xa[h][0];break}ma.exec(n)&&(g._f+=" Z");Y(g)}else g._d=new Date(n);else z(h)?(g._a=h.slice(0),K(g)):"[object Date]"===Object.prototype.toString.call(h)?g._d=new Date(+h):"object"==typeof h?g._d||(f=l(g._i),g._a=[f.year,f.month,f.day,f.hour,f.minute,f.second,f.millisecond],K(g)):g._d=new Date(h);c=new k(c)}return c}function da(a,b){p.fn[a]=p.fn[a+"s"]=function(a){var c=this._isUTC?"UTC":"";return null!=a?(this._d["set"+
c+b](a),p.updateOffset(this),this):this._d["get"+c+b]()}}function ka(a){p.duration.fn[a]=function(){return this._data[a]}}function ha(a,b){p.duration.fn["as"+a]=function(){return+this/b}}function na(){"undefined"==typeof ender&&(this.moment=p)}for(var p,E,aa=Math.round,O=0,Z=1,D=2,u=3,H=4,fa=5,W=6,T={},xa="undefined"!=typeof module&&module.exports,Ja=/^\/?Date\((\-?\d+)/i,ib=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Ya=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,
Fa=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,pa=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,Va=/\d\d?/,fb=/\d{1,3}/,cb=/\d{3}/,db=/\d{1,4}/,eb=/[+\-]?\d{1,6}/,ya=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ma=/Z|[\+\-]\d\d:?\d\d/i,hb=/T/i,gb=/[\+\-]?\d+(\.\d{1,3})?/,Ka=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?$/,
Wa=["YYYY-MM-DD","GGGG-[W]WW","GGGG-[W]WW-E","YYYY-DDD"],Xa=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],ga=/([\+\-]|\d\d)/gi,za=["Date","Hours","Minutes","Seconds","Milliseconds"],qa={Milliseconds:1,Seconds:1E3,Minutes:6E4,Hours:36E5,Days:864E5,Months:2592E6,Years:31536E6},Ea={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",
gg:"weekYear",GG:"isoWeekYear"},Ua={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},X={},Za="DDD w W M D d".split(" "),v="MDHhmswW".split(""),R={M:function(){return this.month()+1},MMM:function(a){return this.lang().monthsShort(this,a)},MMMM:function(a){return this.lang().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.lang().weekdaysMin(this,
a)},ddd:function(a){return this.lang().weekdaysShort(this,a)},dddd:function(a){return this.lang().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return e(this.year()%100,2)},YYYY:function(){return e(this.year(),4)},YYYYY:function(){return e(this.year(),5)},gg:function(){return e(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return e(this.weekYear(),5)},GG:function(){return e(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},
GGGGG:function(){return e(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return m(this.milliseconds()/100)},SS:function(){return e(m(this.milliseconds()/
10),2)},SSS:function(){return e(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+e(m(a/60),2)+":"+e(m(a)%60,2)},ZZ:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+e(m(10*a/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}},La=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];Za.length;)E=Za.pop(),R[E+"o"]=g(R[E],E);for(;v.length;)E=v.pop(),R[E+E]=d(R[E],2);R.DDDD=
d(R.DDD,3);b(f.prototype,{set:function(a){var b,c;for(c in a)b=a[c],"function"==typeof b?this[c]=b:this["_"+c]=b},_months:"January February March April May June July August September October November December".split(" "),months:function(a){return this._months[a.month()]},_monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a){var b,c,d;this._monthsParse||(this._monthsParse=[]);for(b=0;12>b;b++)if(this._monthsParse[b]||
(c=p.utc([2E3,b]),d="^"+this.months(c,"")+"|^"+this.monthsShort(c,""),this._monthsParse[b]=new RegExp(d.replace(".",""),"i")),this._monthsParse[b].test(a))return b},_weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},
weekdaysParse:function(a){var b,c,d;this._weekdaysParse||(this._weekdaysParse=[]);for(b=0;7>b;b++)if(this._weekdaysParse[b]||(c=p([2E3,1]).day(b),d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=new RegExp(d.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(a){var b=this._longDateFormat[a];return!b&&
this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b),b},isPM:function(a){return"p"===(a+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(a,b,c){return 11<a?c?"pm":"PM":c?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a,
b){a=this._calendar[a];return"function"==typeof a?a.apply(b):a},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,b,c,d){var e=this._relativeTime[c];return"function"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)},pastFuture:function(a,b){a=this._relativeTime[0<a?"future":"past"];return"function"==typeof a?a(b):a.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace("%d",
a)},_ordinal:"%d",preparse:function(a){return a},postformat:function(a){return a},week:function(a){return ba(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}});p=function(b,c,d,e){return"boolean"==typeof d&&(e=d,d=a),ca({_i:b,_f:c,_l:d,_strict:e,_isUTC:!1})};p.utc=function(b,c,d,e){return"boolean"==typeof d&&(e=d,d=a),ca({_useUTC:!0,_isUTC:!0,_l:d,_i:b,_f:c,_strict:e}).utc()};p.unix=function(a){return p(1E3*a)};
p.duration=function(a,b){var c,d,e,f=p.isDuration(a),g="number"==typeof a,k=f?a._input:g?{}:a,l=null;return g?b?k[b]=a:k.milliseconds=a:(l=ib.exec(a))?(c="-"===l[1]?-1:1,k={y:0,d:m(l[D])*c,h:m(l[u])*c,m:m(l[H])*c,s:m(l[fa])*c,ms:m(l[W])*c}):(l=Ya.exec(a))&&(c="-"===l[1]?-1:1,e=function(a){a=a&&parseFloat(a.replace(",","."));return(isNaN(a)?0:a)*c},k={y:e(l[2]),M:e(l[3]),d:e(l[4]),h:e(l[5]),m:e(l[6]),s:e(l[7]),w:e(l[8])}),d=new h(k),f&&a.hasOwnProperty("_lang")&&(d._lang=a._lang),d};p.version="2.3.1";
p.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";p.updateOffset=function(){};p.lang=function(a,b){var c;if(a){if(b){var d=I(a);b.abbr=d;T[d]||(T[d]=new f);T[d].set(b)}else null===b?(delete T[a],a="en"):T[a]||t(a);a=(c=p.duration.fn._lang=p.fn._lang=t(a),c._abbr)}else a=p.fn._lang._abbr;return a};p.langData=function(a){return a&&a._lang&&a._lang._abbr&&(a=a._lang._abbr),t(a)};p.isMoment=function(a){return a instanceof k};p.isDuration=function(a){return a instanceof h};for(E=La.length-1;0<=E;--E)n(La[E]);p.normalizeUnits=
function(a){return q(a)};p.invalid=function(a){var c=p.utc(0/0);return null!=a?b(c._pf,a):c._pf.userInvalidated=!0,c};p.parseZone=function(a){return p(a).parseZone()};b(p.fn=k.prototype,{clone:function(){return p(this)},valueOf:function(){return+this._d+6E4*(this._offset||0)},unix:function(){return Math.floor(+this/1E3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){return U(p(this).utc(),
"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){return[this.year(),this.month(),this.date(),this.hours(),this.minutes(),this.seconds(),this.milliseconds()]},isValid:function(){return A(this)},isDSTShifted:function(){return this._a?this.isValid()&&0<C(this._a,(this._isUTC?p.utc(this._a):p(this._a)).toArray()):!1},parsingFlags:function(){return b({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},
format:function(a){a=U(this,a||p.defaultFormat);return this.lang().postformat(a)},add:function(a,b){var c;return c="string"==typeof a?p.duration(+b,a):p.duration(a,b),w(this,c,1),this},subtract:function(a,b){var c;return c="string"==typeof a?p.duration(+b,a):p.duration(a,b),w(this,c,-1),this},diff:function(a,b,d){var e,f;a=this._isUTC?p(a).zone(this._offset||0):p(a).local();var g=6E4*(this.zone()-a.zone());return b=q(b),"year"===b||"month"===b?(e=432E5*(this.daysInMonth()+a.daysInMonth()),f=12*(this.year()-
a.year())+(this.month()-a.month()),f+=(this-p(this).startOf("month")-(a-p(a).startOf("month")))/e,f-=6E4*(this.zone()-p(this).startOf("month").zone()-(a.zone()-p(a).startOf("month").zone()))/e,"year"===b&&(f/=12)):(e=this-a,f="second"===b?e/1E3:"minute"===b?e/6E4:"hour"===b?e/36E5:"day"===b?(e-g)/864E5:"week"===b?(e-g)/6048E5:e),d?f:c(f)},from:function(a,b){return p.duration(this.diff(a)).lang(this.lang()._abbr).humanize(!b)},fromNow:function(a){return this.from(p(),a)},calendar:function(){var a=
this.diff(p().zone(this.zone()).startOf("day"),"days",!0),a=-6>a?"sameElse":-1>a?"lastWeek":0>a?"lastDay":1>a?"sameDay":2>a?"nextDay":7>a?"nextWeek":"sameElse";return this.format(this.lang().calendar(a,this))},isLeapYear:function(){return r(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=ia(a,this.lang()),this.add({d:a-b})):b},month:function(a){var b,
c=this._isUTC?"UTC":"";return null!=a?"string"==typeof a&&(a=this.lang().monthsParse(a),"number"!=typeof a)?this:(b=this.date(),this.date(1),this._d["set"+c+"Month"](a),this.date(Math.min(b,this.daysInMonth())),p.updateOffset(this),this):this._d["get"+c+"Month"]()},startOf:function(a){switch(a=q(a)){case "year":this.month(0);case "month":this.date(1);case "week":case "isoWeek":case "day":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}return"week"===
a?this.weekday(0):"isoWeek"===a&&this.isoWeekday(1),this},endOf:function(a){return a=q(a),this.startOf(a).add("isoWeek"===a?"week":a,1).subtract("ms",1)},isAfter:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)>+p(a).startOf(b)},isBefore:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)<+p(a).startOf(b)},isSame:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)===+p(a).startOf(b)},min:function(a){return a=
p.apply(null,arguments),this>a?this:a},max:function(a){return a=p.apply(null,arguments),a>this?this:a},zone:function(a){var b=this._offset||0;return null==a?this._isUTC?b:this._d.getTimezoneOffset():("string"==typeof a&&(a=V(a)),16>Math.abs(a)&&(a*=60),this._offset=a,this._isUTC=!0,b!==a&&w(this,p.duration(b-a,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return"string"==typeof this._i&&
this.zone(this._i),this},hasAlignedHourOffset:function(a){return a=a?p(a).zone():0,0===(this.zone()-a)%60},daysInMonth:function(){var a=this.year(),b=this.month();return(new Date(Date.UTC(a,b+1,0))).getUTCDate()},dayOfYear:function(a){var b=aa((p(this).startOf("day")-p(this).startOf("year"))/864E5)+1;return null==a?b:this.add("d",a-b)},weekYear:function(a){var b=ba(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==a?b:this.add("y",a-b)},isoWeekYear:function(a){var b=ba(this,1,4).year;
return null==a?b:this.add("y",a-b)},week:function(a){var b=this.lang().week(this);return null==a?b:this.add("d",7*(a-b))},isoWeek:function(a){var b=ba(this,1,4).week;return null==a?b:this.add("d",7*(a-b))},weekday:function(a){var b=(this.day()+7-this.lang()._week.dow)%7;return null==a?b:this.add("d",a-b)},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)},get:function(a){return a=q(a),this[a]()},set:function(a,b){return a=q(a),"function"==typeof this[a]&&this[a](b),
this},lang:function(b){return b===a?this._lang:(this._lang=t(b),this)}});for(E=0;E<za.length;E++)da(za[E].toLowerCase().replace(/s$/,""),za[E]);da("year","FullYear");p.fn.days=p.fn.day;p.fn.months=p.fn.month;p.fn.weeks=p.fn.week;p.fn.isoWeeks=p.fn.isoWeek;p.fn.toJSON=p.fn.toISOString;b(p.duration.fn=h.prototype,{_bubble:function(){var a,b;a=this._milliseconds;b=this._days;var d=this._months,e=this._data;e.milliseconds=a%1E3;a=c(a/1E3);e.seconds=a%60;a=c(a/60);e.minutes=a%60;a=c(a/60);e.hours=a%24;
b+=c(a/24);e.days=b%30;d+=c(b/30);e.months=d%12;b=c(d/12);e.years=b},weeks:function(){return c(this.days()/7)},valueOf:function(){return this._milliseconds+864E5*this._days+this._months%12*2592E6+31536E6*m(this._months/12)},humanize:function(a){var b=+this,c;c=!a;var d=this.lang(),e=aa(Math.abs(b)/1E3),f=aa(e/60),g=aa(f/60),h=aa(g/24),k=aa(h/365),e=45>e&&["s",e]||1===f&&["m"]||45>f&&["mm",f]||1===g&&["h"]||22>g&&["hh",g]||1===h&&["d"]||25>=h&&["dd",h]||45>=h&&["M"]||345>h&&["MM",aa(h/30)]||1===k&&
["y"]||["yy",k];c=(e[2]=c,e[3]=0<b,e[4]=d,oa.apply({},e));return a&&(c=this.lang().pastFuture(b,c)),this.lang().postformat(c)},add:function(a,b){a=p.duration(a,b);return this._milliseconds+=a._milliseconds,this._days+=a._days,this._months+=a._months,this._bubble(),this},subtract:function(a,b){a=p.duration(a,b);return this._milliseconds-=a._milliseconds,this._days-=a._days,this._months-=a._months,this._bubble(),this},get:function(a){return a=q(a),this[a.toLowerCase()+"s"]()},as:function(a){return a=
q(a),this["as"+a.charAt(0).toUpperCase()+a.slice(1)+"s"]()},lang:p.fn.lang,toIsoString:function(){var a=Math.abs(this.years()),b=Math.abs(this.months()),c=Math.abs(this.days()),d=Math.abs(this.hours()),e=Math.abs(this.minutes()),f=Math.abs(this.seconds()+this.milliseconds()/1E3);return this.asSeconds()?(0>this.asSeconds()?"-":"")+"P"+(a?a+"Y":"")+(b?b+"M":"")+(c?c+"D":"")+(d||e||f?"T":"")+(d?d+"H":"")+(e?e+"M":"")+(f?f+"S":""):"P0D"}});for(E in qa)qa.hasOwnProperty(E)&&(ha(E,qa[E]),ka(E.toLowerCase()));
ha("Weeks",6048E5);p.duration.fn.asMonths=function(){return(+this-31536E6*this.years())/2592E6+12*this.years()};p.lang("en",{ordinal:function(a){var b=a%10,b=1===m(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+b}});xa?(module.exports=p,na()):"function"==typeof define&&define.amd?define("moment",function(a,b,c){return!0!==c.config().noGlobal&&na(),p}):na()}).call(this);
(function(){var a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};(function(d){function g(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},d=Object.create(a.prototype),e;for(e in c)d[e]=c[e];d.constructor=b;b.prototype=d;return b}function f(a){a=a||{};this.defaultProtocol=a.hasOwnProperty("defaultProtocol")?a.defaultProtocol:
z.defaultProtocol;this.events=a.hasOwnProperty("events")?a.events:z.events;this.format=a.hasOwnProperty("format")?a.format:z.format;this.formatHref=a.hasOwnProperty("formatHref")?a.formatHref:z.formatHref;this.nl2br=a.hasOwnProperty("nl2br")?a.nl2br:z.nl2br;this.tagName=a.hasOwnProperty("tagName")?a.tagName:z.tagName;this.target=a.hasOwnProperty("target")?a.target:z.target;this.validate=a.hasOwnProperty("validate")?a.validate:z.validate;this.ignoreTags=[];this.attributes=a.attributes||a.linkAttributes||
z.attributes;this.className=a.hasOwnProperty("className")?a.className:a.linkClass||z.className;a=a.hasOwnProperty("ignoreTags")?a.ignoreTags:z.ignoreTags;for(var b=0;b<a.length;b++)this.ignoreTags.push(a[b].toUpperCase())}function k(a){return a}function h(){return function(a){this.j=[];this.T=a||null}}function b(a,b,c,d){for(var e=0,f=a.length,g=[],h=void 0;e<f&&(h=b.next(a[e]));)b=h,e++;if(e>=f)return[];for(;e<f-1;)h=new l(d),g.push(h),b.on(a[e],h),b=h,e++;h=new l(c);g.push(h);b.on(a[f-1],h);return g}
function c(){return function(a){a&&(this.v=a)}}function e(a){a=a?{v:a}:{};return g(m,c(),a)}function w(a){return a instanceof r||a instanceof S}var z={defaultProtocol:"http",events:null,format:k,formatHref:k,nl2br:!1,tagName:"a",target:function(a,b){return"url"===b?"_blank":null},validate:!0,ignoreTags:[],attributes:null,className:"linkified"};f.prototype={resolve:function(a){var b=a.toHref(this.defaultProtocol);return{formatted:this.get("format",a.toString(),a),formattedHref:this.get("formatHref",
b,a),tagName:this.get("tagName",b,a),className:this.get("className",b,a),target:this.get("target",b,a),events:this.getObject("events",b,a),attributes:this.getObject("attributes",b,a)}},check:function(a){return this.get("validate",a.toString(),a)},get:function(b,c,d){var e=this[b];if(!e)return e;switch("undefined"===typeof e?"undefined":a(e)){case "function":return e(c,d.type);case "object":return b=e.hasOwnProperty(d.type)?e[d.type]:z[b],"function"===typeof b?b(c,d.type):b}return e},getObject:function(a,
b,c){a=this[a];return"function"===typeof a?a(b,c.type):a}};var C=Object.freeze({defaults:z,Options:f,contains:function(a,b){for(var c=0;c<a.length;c++)if(a[c]===b)return!0;return!1}}),q=h();q.prototype={defaultTransition:!1,on:function(a,b){if(a instanceof Array){for(var c=0;c<a.length;c++)this.j.push([a[c],b]);return this}this.j.push([a,b]);return this},next:function(a){for(var b=0;b<this.j.length;b++){var c=this.j[b],d=c[1];if(this.test(a,c[0]))return d}return this.defaultTransition},accepts:function(){return!!this.T},
test:function(a,b){return a===b},emit:function(){return this.T}};var l=g(q,h(),{test:function(a,b){return a===b||b instanceof RegExp&&b.test(a)}}),n=g(q,h(),{jump:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,c=this.next(new a(""));c===this.defaultTransition?(c=new this.constructor(b),this.on(a,c)):b&&(c.T=b);return c},test:function(a,b){return a instanceof b}}),m=c();m.prototype={toString:function(){return this.v+""}};var r=e(),B=e("@"),G=e(":"),A=e("."),I=e(),t=e(),
ea=e("\n"),J=e(),U=e("+"),P=e("#"),N=e(),V=e("mailto:"),K=e("?"),Q=e("/"),Y=e("_"),wa=e(),S=e(),Ca=e(),ia=e("{"),oa=e("["),ba=e("<"),ja=e("("),ca=e("}"),da=e("]"),ka=e(">"),ha=e(")"),na=e("&"),p=Object.freeze({Base:m,DOMAIN:r,AT:B,COLON:G,DOT:A,PUNCTUATION:I,LOCALHOST:t,NL:ea,NUM:J,PLUS:U,POUND:P,QUERY:K,PROTOCOL:N,MAILTO:V,SLASH:Q,UNDERSCORE:Y,SYM:wa,TLD:S,WS:Ca,OPENBRACE:ia,OPENBRACKET:oa,OPENANGLEBRACKET:ba,OPENPAREN:ja,CLOSEBRACE:ca,CLOSEBRACKET:da,CLOSEANGLEBRACKET:ka,CLOSEPAREN:ha,AMPERSAND:na}),
E="aaa aarp abarth abb abbott abbvie abc able abogado abudhabi ac academy accenture accountant accountants aco active actor ad adac ads adult ae aeg aero aetna af afamilycompany afl africa ag agakhan agency ai aig aigo airbus airforce airtel akdn al alfaromeo alibaba alipay allfinanz allstate ally alsace alstom am americanexpress americanfamily amex amfam amica amsterdam analytics android anquan anz ao aol apartments app apple aq aquarelle ar arab aramco archi army arpa art arte as asda asia associates at athleta attorney au auction audi audible audio auspost author auto autos avianca aw aws ax axa az azure ba baby baidu banamex bananarepublic band bank bar barcelona barclaycard barclays barefoot bargains baseball basketball bauhaus bayern bb bbc bbt bbva bcg bcn bd be beats beauty beer bentley berlin best bestbuy bet bf bg bh bharti bi bible bid bike bing bingo bio biz bj black blackfriday blanco blockbuster blog bloomberg blue bm bms bmw bn bnl bnpparibas bo boats boehringer bofa bom bond boo book booking boots bosch bostik boston bot boutique box br bradesco bridgestone broadway broker brother brussels bs bt budapest bugatti build builders business buy buzz bv bw by bz bzh ca cab cafe cal call calvinklein cam camera camp cancerresearch canon capetown capital capitalone car caravan cards care career careers cars cartier casa case caseih cash casino cat catering catholic cba cbn cbre cbs cc cd ceb center ceo cern cf cfa cfd cg ch chanel channel chase chat cheap chintai chloe christmas chrome chrysler church ci cipriani circle cisco citadel citi citic city cityeats ck cl claims cleaning click clinic clinique clothing cloud club clubmed cm cn co coach codes coffee college cologne com comcast commbank community company compare computer comsec condos construction consulting contact contractors cooking cookingchannel cool coop corsica country coupon coupons courses cr credit creditcard creditunion cricket crown crs cruise cruises csc cu cuisinella cv cw cx cy cymru cyou cz dabur dad dance data date dating datsun day dclk dds de deal dealer deals degree delivery dell deloitte delta democrat dental dentist desi design dev dhl diamonds diet digital direct directory discount discover dish diy dj dk dm dnp do docs doctor dodge dog doha domains dot download drive dtv dubai duck dunlop duns dupont durban dvag dvr dz earth eat ec eco edeka edu education ee eg email emerck energy engineer engineering enterprises epost epson equipment er ericsson erni es esq estate esurance et etisalat eu eurovision eus events everbank exchange expert exposed express extraspace fage fail fairwinds faith family fan fans farm farmers fashion fast fedex feedback ferrari ferrero fi fiat fidelity fido film final finance financial fire firestone firmdale fish fishing fit fitness fj fk flickr flights flir florist flowers fly fm fo foo food foodnetwork football ford forex forsale forum foundation fox fr free fresenius frl frogans frontdoor frontier ftr fujitsu fujixerox fun fund furniture futbol fyi ga gal gallery gallo gallup game games gap garden gb gbiz gd gdn ge gea gent genting george gf gg ggee gh gi gift gifts gives giving gl glade glass gle global globo gm gmail gmbh gmo gmx gn godaddy gold goldpoint golf goo goodhands goodyear goog google gop got gov gp gq gr grainger graphics gratis green gripe grocery group gs gt gu guardian gucci guge guide guitars guru gw gy hair hamburg hangout haus hbo hdfc hdfcbank health healthcare help helsinki here hermes hgtv hiphop hisamitsu hitachi hiv hk hkt hm hn hockey holdings holiday homedepot homegoods homes homesense honda honeywell horse hospital host hosting hot hoteles hotels hotmail house how hr hsbc ht htc hu hughes hyatt hyundai ibm icbc ice icu id ie ieee ifm ikano il im imamat imdb immo immobilien in industries infiniti info ing ink institute insurance insure int intel international intuit investments io ipiranga iq ir irish is iselect ismaili ist istanbul it itau itv iveco iwc jaguar java jcb jcp je jeep jetzt jewelry jio jlc jll jm jmp jnj jo jobs joburg jot joy jp jpmorgan jprs juegos juniper kaufen kddi ke kerryhotels kerrylogistics kerryproperties kfh kg kh ki kia kim kinder kindle kitchen kiwi km kn koeln komatsu kosher kp kpmg kpn kr krd kred kuokgroup kw ky kyoto kz la lacaixa ladbrokes lamborghini lamer lancaster lancia lancome land landrover lanxess lasalle lat latino latrobe law lawyer lb lc lds lease leclerc lefrak legal lego lexus lgbt li liaison lidl life lifeinsurance lifestyle lighting like lilly limited limo lincoln linde link lipsy live living lixil lk loan loans locker locus loft lol london lotte lotto love lpl lplfinancial lr ls lt ltd ltda lu lundbeck lupin luxe luxury lv ly ma macys madrid maif maison makeup man management mango map market marketing markets marriott marshalls maserati mattel mba mc mckinsey md me med media meet melbourne meme memorial men menu meo merckmsd metlife mg mh miami microsoft mil mini mint mit mitsubishi mk ml mlb mls mm mma mn mo mobi mobile mobily moda moe moi mom monash money monster mopar mormon mortgage moscow moto motorcycles mov movie movistar mp mq mr ms msd mt mtn mtr mu museum mutual mv mw mx my mz na nab nadex nagoya name nationwide natura navy nba nc ne nec net netbank netflix network neustar new newholland news next nextdirect nexus nf nfl ng ngo nhk ni nico nike nikon ninja nissan nissay nl no nokia northwesternmutual norton now nowruz nowtv np nr nra nrw ntt nu nyc nz obi observer off office okinawa olayan olayangroup oldnavy ollo om omega one ong onl online onyourside ooo open oracle orange org organic origins osaka otsuka ott ovh pa page panasonic panerai paris pars partners parts party passagens pay pccw pe pet pf pfizer pg ph pharmacy phd philips phone photo photography photos physio piaget pics pictet pictures pid pin ping pink pioneer pizza pk pl place play playstation plumbing plus pm pn pnc pohl poker politie porn post pr pramerica praxi press prime pro prod productions prof progressive promo properties property protection pru prudential ps pt pub pw pwc py qa qpon quebec quest qvc racing radio raid re read realestate realtor realty recipes red redstone redumbrella rehab reise reisen reit reliance ren rent rentals repair report republican rest restaurant review reviews rexroth rich richardli ricoh rightathome ril rio rip rmit ro rocher rocks rodeo rogers room rs rsvp ru rugby ruhr run rw rwe ryukyu sa saarland safe safety sakura sale salon samsclub samsung sandvik sandvikcoromant sanofi sap sapo sarl sas save saxo sb sbi sbs sc sca scb schaeffler schmidt scholarships school schule schwarz science scjohnson scor scot sd se search seat secure security seek select sener services ses seven sew sex sexy sfr sg sh shangrila sharp shaw shell shia shiksha shoes shop shopping shouji show showtime shriram si silk sina singles site sj sk ski skin sky skype sl sling sm smart smile sn sncf so soccer social softbank software sohu solar solutions song sony soy space spiegel spot spreadbetting sr srl srt st stada staples star starhub statebank statefarm statoil stc stcgroup stockholm storage store stream studio study style su sucks supplies supply support surf surgery suzuki sv swatch swiftcover swiss sx sy sydney symantec systems sz tab taipei talk taobao target tatamotors tatar tattoo tax taxi tc tci td tdk team tech technology tel telecity telefonica temasek tennis teva tf tg th thd theater theatre tiaa tickets tienda tiffany tips tires tirol tj tjmaxx tjx tk tkmaxx tl tm tmall tn to today tokyo tools top toray toshiba total tours town toyota toys tr trade trading training travel travelchannel travelers travelersinsurance trust trv tt tube tui tunes tushu tv tvs tw tz ua ubank ubs uconnect ug uk unicom university uno uol ups us uy uz va vacations vana vanguard vc ve vegas ventures verisign versicherung vet vg vi viajes video vig viking villas vin vip virgin visa vision vista vistaprint viva vivo vlaanderen vn vodka volkswagen volvo vote voting voto voyage vu vuelos wales walmart walter wang wanggou warman watch watches weather weatherchannel webcam weber website wed wedding weibo weir wf whoswho wien wiki williamhill win windows wine winners wme wolterskluwer woodside work works world wow ws wtc wtf xbox xerox xfinity xihuan xin xn--11b4c3d xn--1ck2e1b xn--1qqw23a xn--2scrj9c xn--30rr7y xn--3bst00m xn--3ds443g xn--3e0b707e xn--3hcrj9c xn--3oq18vl8pn36a xn--3pxu8k xn--42c2d9a xn--45br5cyl xn--45brj9c xn--45q11c xn--4gbrim xn--54b7fta0cc xn--55qw42g xn--55qx5d xn--5su34j936bgsg xn--5tzm5g xn--6frz82g xn--6qq986b3xl xn--80adxhks xn--80ao21a xn--80aqecdr1a xn--80asehdb xn--80aswg xn--8y0a063a xn--90a3ac xn--90ae xn--90ais xn--9dbq2a xn--9et52u xn--9krt00a xn--b4w605ferd xn--bck1b9a5dre4c xn--c1avg xn--c2br7g xn--cck2b3b xn--cg4bki xn--clchc0ea0b2g2a9gcd xn--czr694b xn--czrs0t xn--czru2d xn--d1acj3b xn--d1alf xn--e1a4c xn--eckvdtc9d xn--efvy88h xn--estv75g xn--fct429k xn--fhbei xn--fiq228c5hs xn--fiq64b xn--fiqs8s xn--fiqz9s xn--fjq720a xn--flw351e xn--fpcrj9c3d xn--fzc2c9e2c xn--fzys8d69uvgm xn--g2xx48c xn--gckr3f0f xn--gecrj9c xn--gk3at1e xn--h2breg3eve xn--h2brj9c xn--h2brj9c8c xn--hxt814e xn--i1b6b1a6a2e xn--imr513n xn--io0a7i xn--j1aef xn--j1amh xn--j6w193g xn--jlq61u9w7b xn--jvr189m xn--kcrx77d1x4a xn--kprw13d xn--kpry57d xn--kpu716f xn--kput3i xn--l1acc xn--lgbbat1ad8j xn--mgb9awbf xn--mgba3a3ejt xn--mgba3a4f16a xn--mgba7c0bbn0a xn--mgbaakc7dvf xn--mgbaam7a8h xn--mgbab2bd xn--mgbai9azgqp6j xn--mgbayh7gpa xn--mgbb9fbpob xn--mgbbh1a xn--mgbbh1a71e xn--mgbc0a9azcg xn--mgbca7dzdo xn--mgberp4a5d4ar xn--mgbgu82a xn--mgbi4ecexp xn--mgbpl2fh xn--mgbt3dhd xn--mgbtx2b xn--mgbx4cd0ab xn--mix891f xn--mk1bu44c xn--mxtq1m xn--ngbc5azd xn--ngbe9e0a xn--ngbrx xn--node xn--nqv7f xn--nqv7fs00ema xn--nyqy26a xn--o3cw4h xn--ogbpf8fl xn--p1acf xn--p1ai xn--pbt977c xn--pgbs0dh xn--pssy2u xn--q9jyb4c xn--qcka1pmc xn--qxam xn--rhqv96g xn--rovu88b xn--rvc1e0am3e xn--s9brj9c xn--ses554g xn--t60b56a xn--tckwe xn--tiq49xqyj xn--unup4y xn--vermgensberater-ctb xn--vermgensberatung-pwb xn--vhquv xn--vuq861b xn--w4r85el8fhu5dnra xn--w4rs40l xn--wgbh1c xn--wgbl6a xn--xhq521b xn--xkc2al3hye2a xn--xkc2dl3a5ee0h xn--y9a3aq xn--yfro4i67o xn--ygbi2ammx xn--zfr164b xperia xxx xyz yachts yahoo yamaxun yandex ye yodobashi yoga yokohama you youtube yt yun za zappos zara zero zip zippo zm zone zuerich zw".split(" "),
aa="0123456789".split(""),O="0123456789abcdefghijklmnopqrstuvwxyz".split(""),Z=" \f\r\t\x0B\u00a0\u1680\u180e".split(""),D=[],u=function(a){return new l(a)},H=u(),fa=u(J),W=u(r),T=u(),xa=u(Ca);H.on("@",u(B)).on(".",u(A)).on("+",u(U)).on("#",u(P)).on("?",u(K)).on("/",u(Q)).on("_",u(Y)).on(":",u(G)).on("{",u(ia)).on("[",u(oa)).on("<",u(ba)).on("(",u(ja)).on("}",u(ca)).on("]",u(da)).on(">",u(ka)).on(")",u(ha)).on("&",u(na)).on([",",";","!",'"',"'"],u(I));H.on("\n",u(ea)).on(Z,xa);xa.on(Z,xa);for(var Ja=
0;Ja<E.length;Ja++){var ib=b(E[Ja],H,S,r);D.push.apply(D,ib)}var Ya=b("file",H,r,r),Fa=b("ftp",H,r,r),pa=b("http",H,r,r),Va=b("mailto",H,r,r);D.push.apply(D,Ya);D.push.apply(D,Fa);D.push.apply(D,pa);D.push.apply(D,Va);var fb=Ya.pop(),cb=Fa.pop(),db=pa.pop(),eb=Va.pop(),ya=u(r),ma=u(N),hb=u(V);cb.on("s",ya).on(":",ma);db.on("s",ya).on(":",ma);D.push(ya);fb.on(":",ma);ya.on(":",ma);eb.on(":",hb);var gb=b("localhost",H,t,r);D.push.apply(D,gb);H.on(aa,fa);fa.on("-",T).on(aa,fa).on(O,W);W.on("-",T).on(O,
W);for(var Ka=0;Ka<D.length;Ka++)D[Ka].on("-",T).on(O,W);T.on("-",T).on(aa,W).on(O,W);H.defaultTransition=u(wa);var Wa=function(a){for(var b=a.replace(/[A-Z]/g,function(a){return a.toLowerCase()}),c=a.length,d=[],e=0;e<c;){for(var f=H,g=null,h=0,k=null,l=-1;e<c&&(g=f.next(b[e]));)f=g,f.accepts()?(l=0,k=f):0<=l&&l++,h++,e++;0>l||(e-=l,h-=l,f=k.emit(),d.push(new f(a.substr(e-h,h))))}return d},Xa=Object.freeze({State:l,TOKENS:p,run:Wa,start:H}),ga=c();ga.prototype={type:"token",isLink:!1,toString:function(){for(var a=
[],b=0;b<this.v.length;b++)a.push(this.v[b].toString());return a.join("")},toHref:function(){return this.toString()},toObject:function(){return{type:this.type,value:this.toString(),href:this.toHref(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"http")}}};var za=g(ga,c(),{type:"email",isLink:!0}),qa=g(ga,c(),{type:"email",isLink:!0,toHref:function(){return"mailto:"+this.toString()}}),Ea=g(ga,c(),{type:"text"}),Ua=g(ga,c(),{type:"nl"}),X=g(ga,c(),{type:"url",isLink:!0,toHref:function(){for(var a=
0<arguments.length&&void 0!==arguments[0]?arguments[0]:"http",b=!1,c=!1,d=this.v,e=[],f=0;d[f]instanceof N;)b=!0,e.push(d[f].toString().toLowerCase()),f++;for(;d[f]instanceof Q;)c=!0,e.push(d[f].toString()),f++;for(;w(d[f]);)e.push(d[f].toString().toLowerCase()),f++;for(;f<d.length;f++)e.push(d[f].toString());e=e.join("");b||c||(e=a+"://"+e);return e},hasProtocol:function(){return this.v[0]instanceof N}}),Za=Object.freeze({Base:ga,MAILTOEMAIL:za,EMAIL:qa,NL:Ua,TEXT:Ea,URL:X}),v=function(a){return new n(a)},
R=v(),La=v(),mb=v(),bb=v(),nb=v(),la=v(),Ta=v(),Da=v(X),ob=v(),pb=v(X),F=v(X),Ga=v(),Ha=v(),Ia=v(),Ma=v(),Na=v(),ra=v(X),sa=v(X),ta=v(X),ua=v(X),Oa=v(),Pa=v(),Qa=v(),Ra=v(),Aa=v(),jb=v(),$a=v(qa),qb=v(),tb=v(qa),va=v(za),kb=v(),Ba=v(),ab=v(),rb=v(),ub=v(Ua);R.on(ea,ub).on(N,La).on(V,mb).on(Q,bb);La.on(Q,bb);bb.on(Q,nb);R.on(S,la).on(r,la).on(t,Da).on(J,la);nb.on(S,F).on(r,F).on(J,F).on(t,F);la.on(A,Ta);Aa.on(A,jb);Ta.on(S,Da).on(r,la).on(J,la).on(t,la);jb.on(S,$a).on(r,Aa).on(J,Aa).on(t,Aa);Da.on(A,
Ta);$a.on(A,jb);Da.on(G,ob).on(Q,F);ob.on(J,pb);pb.on(Q,F);$a.on(G,qb);qb.on(J,tb);var L=[r,B,t,J,U,P,N,Q,S,Y,wa,na],M=[G,A,K,I,ca,da,ka,ha,ia,oa,ba,ja];F.on(ia,Ha).on(oa,Ia).on(ba,Ma).on(ja,Na);Ga.on(ia,Ha).on(oa,Ia).on(ba,Ma).on(ja,Na);Ha.on(ca,F);Ia.on(da,F);Ma.on(ka,F);Na.on(ha,F);ra.on(ca,F);sa.on(da,F);ta.on(ka,F);ua.on(ha,F);Oa.on(ca,F);Pa.on(da,F);Qa.on(ka,F);Ra.on(ha,F);Ha.on(L,ra);Ia.on(L,sa);Ma.on(L,ta);Na.on(L,ua);Ha.on(M,Oa);Ia.on(M,Pa);Ma.on(M,Qa);Na.on(M,Ra);ra.on(L,ra);sa.on(L,sa);
ta.on(L,ta);ua.on(L,ua);ra.on(M,ra);sa.on(M,sa);ta.on(M,ta);ua.on(M,ua);Oa.on(L,ra);Pa.on(L,sa);Qa.on(L,ta);Ra.on(L,ua);Oa.on(M,Oa);Pa.on(M,Pa);Qa.on(M,Qa);Ra.on(M,Ra);F.on(L,F);Ga.on(L,F);F.on(M,Ga);Ga.on(M,Ga);mb.on(S,va).on(r,va).on(J,va).on(t,va);va.on(L,va).on(M,kb);kb.on(L,va).on(M,kb);var Sa=[r,J,U,P,K,Y,wa,na,S];la.on(Sa,Ba).on(B,ab);Da.on(Sa,Ba).on(B,ab);Ta.on(Sa,Ba);Ba.on(Sa,Ba).on(B,ab).on(A,rb);rb.on(Sa,Ba);ab.on(S,Aa).on(r,Aa).on(t,$a);var sb=function(a){for(var b=a.length,c=0,d=[],e=
[];c<b;){for(var f=R,g=null,h=null,k=0,l=null,n=-1;c<b&&!(g=f.next(a[c]));)e.push(a[c++]);for(;c<b&&(h=g||f.next(a[c]));)g=null,f=h,f.accepts()?(n=0,l=f):0<=n&&n++,c++,k++;if(0>n)for(k=c-k;k<c;k++)e.push(a[k]);else 0<e.length&&(d.push(new Ea(e)),e=[]),c-=n,k-=n,f=l.emit(),d.push(new f(a.slice(c-k,c)))}0<e.length&&d.push(new Ea(e));return d},vb=Object.freeze({State:n,TOKENS:Za,run:sb,start:R});Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)});var lb=
function(a){return sb(Wa(a))};d.find=function(a){for(var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,c=lb(a),d=[],e=0;e<c.length;e++){var f=c[e];!f.isLink||b&&f.type!==b||d.push(f.toObject())}return d};d.inherits=g;d.options=C;d.parser=vb;d.scanner=Xa;d.test=function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,c=lb(a);return 1===c.length&&c[0].isLink&&(!b||c[0].type===b)};d.tokenize=lb})(self.linkify=self.linkify||{})})();"use strict";
(function(a,d,g){d=function(d){function g(a,d,e){if(!a||1!==a.nodeType)throw Error("Cannot linkify "+a+" - Invalid DOM Node type");var f=d.ignoreTags;if("A"===a.tagName||c.contains(f,a.tagName))return a;for(f=a.firstChild;f;){var h,m;switch(f.nodeType){case 1:g(f,d,e);break;case 3:if(h=f.nodeValue,m=b(h),!(0===m.length||1===m.length&&m[0]instanceof w)){h=d;var r=e,B=[],G=Array.isArray(m),A=0;for(m=G?m:m[Symbol.iterator]();;){var I;if(G){if(A>=m.length)break;I=m[A++]}else{A=m.next();if(A.done)break;
I=A.value}if("nl"===I.type&&h.nl2br)B.push(r.createElement("br"));else if(I.isLink&&h.check(I)){var t=h.resolve(I);I=t.formatted;var ea=t.formattedHref,J=t.className,U=t.target,P=t.events,N=t.attributes,t=r.createElement(t.tagName);t.setAttribute("href",ea);J&&t.setAttribute("class",J);U&&t.setAttribute("target",U);if(N)for(var V in N)t.setAttribute(V,N[V]);if(P)for(var K in P)t.addEventListener?t.addEventListener(K,P[K]):t.attachEvent&&t.attachEvent("on"+K,P[K]);t.appendChild(r.createTextNode(I));
B.push(t)}else B.push(r.createTextNode(I.toString()))}h=B;r=a;B=h;m=B[B.length-1];r.replaceChild(m,f);for(f=B.length-2;0<=f;f--)r.insertBefore(B[f],m),m=B[f];f=h[h.length-1]}}f=f.nextSibling}return a}function h(b,c){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;try{d=d||document||a&&a.document||global&&global.document}catch(f){}if(!d)throw Error("Cannot find document implementation. If you are in a non-browser environment like Node.js, pass the document implementation as the third argument to linkifyElement.");
c=new e(c);return g(b,c,d)}var b=d.tokenize,c=d.options,e=c.Options,w=d.parser.TOKENS.TEXT;h.helper=g;h.normalize=function(a){return new e(a)};try{!(void 0).define&&(a.linkifyElement=h)}catch(z){}return function(b){function c(a){a=h.normalize(a);return this.each(function(){h.helper(this,a,d)})}var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;b.fn=b.fn||{};try{d=d||document||a&&a.document||global&&global.document}catch(e){}if(!d)throw Error("Cannot find document implementation. If you are in a non-browser environment like Node.js, pass the document implementation as the second argument to linkify/jquery");
"function"!==typeof b.fn.linkify&&(b.fn.linkify=c,b(d).ready(function(){b("[data-linkify]").each(function(){var a=b(this),c=a.data(),d=c.linkify,e=c.linkifyNlbr,e={nl2br:!!e&&0!==e&&"false"!==e};"linkifyAttributes"in c&&(e.attributes=c.linkifyAttributes);"linkifyDefaultProtocol"in c&&(e.defaultProtocol=c.linkifyDefaultProtocol);"linkifyEvents"in c&&(e.events=c.linkifyEvents);"linkifyFormat"in c&&(e.format=c.linkifyFormat);"linkifyFormatHref"in c&&(e.formatHref=c.linkifyFormatHref);"linkifyTagname"in
c&&(e.tagName=c.linkifyTagname);"linkifyTarget"in c&&(e.target=c.linkifyTarget);"linkifyValidate"in c&&(e.validate=c.linkifyValidate);"linkifyIgnoreTags"in c&&(e.ignoreTags=c.linkifyIgnoreTags);"linkifyClassName"in c?e.className=c.linkifyClassName:"linkifyLinkclass"in c&&(e.className=c.linkifyLinkclass);e=h.normalize(e);("this"===d?a:a.find(d)).linkify(e)})}))}}(d);"function"!==typeof g.fn.linkify&&d(g)})(window,linkify,jQuery);
$(document).ready(function(){$("#showUncheckedTests").on("click",function(a){$(".uncheckTestResult").toggle()});$("#showMissingPropResult").on("click",function(a){$(".missingPropResult").toggle()});jQuery.i18n.properties({name:"messages",path:OCC_REC.contextPath+"/messages/i18n/",mode:"map",language:OCC_REC.locale});refreshUserAnnotations();$("form#issueForm").submit(function(a){a.preventDefault();var d=$("#issueComment").val(),g=$("#issue").val(),b=OCC_REC.userDisplayName,c=OCC_REC.recordUuid;""!=
g?($("#assertionSubmitProgress").css({display:"block"}),$.get(OCC_REC.contextPath+"/assertions/"+OCC_REC.recordUuid,function(a){for(var f=!1,z=0;z<a.userAssertions.length;z++)5E4==a.userAssertions[z].code&&a.userAssertions.forEach(function(b){b.uuid==a.userAssertions[z].relatedUuid&&b.code==g&&(f=!0)});f?alert("You cannot flag an issue with the same type that has already been verified."):$.post(OCC_REC.contextPath+"/occurrences/assertions/add",{recordUuid:c,code:g,comment:d,userAssertionStatus:"Open issue",
userId:OCC_REC.userId,userDisplayName:b},function(a){$("#assertionSubmitProgress").css({display:"none"});$("#submitSuccess").html("Thanks for flagging the problem!");$("#issueFormSubmit").hide();$("input:reset").hide();$("input#close").show();$.get(OCC_REC.contextPath+"/assertions/"+OCC_REC.recordUuid,function(a){$("#userAssertions").html(a);$("#userAssertionsContainer").show("slow")});refreshUserAnnotations()}).error(function(){$("#assertionSubmitProgress").css({display:"none"});$("#submitSuccess").html("There was problem flagging the issue. Please try again later.")})})):
alert("Please supply a issue type")});$(".userAssertionComment").each(function(a,d){a=$(d).html();$(d).html(replaceURLWithHTMLLinks(a))});$("input#close").live("click",function(a){$("form#issueForm")[0].reset();$("#submitSuccess").html("");$("#issueFormSubmit").show("slow");$("input:reset").show("slow");$("input#close").hide("slow");$("#loginOrFlag").modal("hide");document.location.reload(!0)});$("td.dwc, span.dwc").each(function(a,d){a=$(d).html();$(d).html(fileCase(a))});var a=OCC_REC.sensitiveDatasets;
$("span.dataGeneralizations").each(function(d,g){var h=$(this);(d=$(this).text().match(/\[.*?\]/g))&&$.each(d,function(b,c){b=c.replace(/\[.*,(.*)\]/,"$1").trim();c=b.replace(/\s/g,"_").toUpperCase();a[c]&&(c="<a href='"+a[c]+"' title='"+b+" sensitive species list information page' target='collectory'>"+b+"</a>",b=new RegExp(b,"g"),b=$(h).html().replace(b,c),$(h).html(b))})});$("#backBtn a").click(function(a){a.preventDefault();(a=$(this).attr("href"))?window.location.href=a:history.length?history.go(-1):
alert("Sorry it appears the history has been lost, please use the browser&apso;s back button")});var d=$("tr#nucleotides").find("td.value"),g=d.text().trim();10<g.length&&$(d).html("<code>"+g.replace(/(.{10})/g,"$1 ")+"</code>");$(".dataQualityHelpLinkZZZ").click(function(a){a.preventDefault();$("#dataQualityModal .modal-body").html("");a=$(this).data("code");a=getDataQualityItem(a);var d="Error: info not found";a&&(d="<div><b>Name: "+a.name+"</b></div>",d+="<div>"+a.description+"</div>",d+="<div><a href='https://github.com/AtlasOfLivingAustralia/ala-dataquality/wiki/"+
a.name+"' target='wiki' title='More details on the wiki page'>Wiki page</a></div>");$(this).popover({html:!0,content:function(){return d}})});$(".dataQualityHelpLinkZZ").popover({html:!0,content:"Just a test"}).click("click",function(a){a.preventDefault()});$(".tooltips").tooltip();$(".dataQualityHelpLink").popover({html:!0,trigger:"click",title:function(){var a=$(this).data("code"),d="";(a=getDataQualityItem(a))&&(d="<button type='button' class='close' onclick='$(&quot;.dataQualityHelpLink&quot;).popover(&quot;hide&quot;);'>\u00d7</button>"+
a.name);return d},content:function(){var a=$(this).data("code"),a=getDataQualityItem(a),d="Error: info not found";a&&(d="<div>"+a.description+"</div>",a.wiki&&(d+="<div><i class='glyphicon glyphicon-share-alt'></i>&nbsp;<a href='https://github.com/AtlasOfLivingAustralia/ala-dataquality/wiki/"+a.name+"' target='wiki' title='More details on the wiki page'>Wiki page</a></div>"));return d}}).click("click",function(a){a.preventDefault()});if(d=amplify.store("lastSearch"))$("#backBtn > a").attr("href",
d),$("#backBtn").show();$(".occurrenceTable").each(function(a,d){$(d).find("tr").length||($(d).parent().hide(),a=$(d).parent().attr("id").replace("Table",""),$('a[href="#'+a+'"]').hide())})});function deleteAssertion(a,d){$.post(OCC_REC.contextPath+"/occurrences/assertions/delete",{recordUuid:a,assertionUuid:d},function(a){refreshUserAnnotations()})}function fileCase(a){return a.replace(/([a-z])([A-Z])/g,"$1 $2").toLowerCase().capitalize()}
function compareModifiedDate(a,d){return moment(a.created).isBefore(d.created)?-1:moment(a.created).isAfter(d.created)?1:0}function getMessage(a){return"${message(code:show.userAssertionStatus."+a+")}"}
function refreshUserAnnotations(){$.get(OCC_REC.contextPath+"/assertions/"+OCC_REC.recordUuid,function(a){0==a.assertionQueries.length&&0==a.userAssertions.length?($("#userAnnotationsDiv").hide("slow"),$("#userAssertionsContainer").hide("slow"),$("#userAnnotationsNav").css("display","none")):($("#userAnnotationsDiv").show("slow"),$("#userAssertionsContainer").show("slow"),$("#userAnnotationsNav").css("display","block"));$("#userAnnotationsList").empty();var d=jQuery.i18n.prop("user_assertions."+a.userAssertionStatus);
$("#userAssertionStatus").text(d);for(d=0;d<a.assertionQueries.length;d++){var g=$("#userAnnotationTemplate").clone();g.find(".issue").text(a.assertionQueries[d].assertionType);g.find(".user").text(a.assertionQueries[d].userName);g.find(".comment").text("Comment: "+a.assertionQueries[d].comment);g.find(".created").text("Date created: "+moment(a.assertionQueries[d].createdDate).format("YYYY-MM-DD"));1<a.assertionQueries[d].recordCount&&(g.find(".viewMore").css({display:"block"}),g.find(".viewMoreLink").attr("href",
OCC_REC.contextPath+"/occurrences/search?q=query_assertion_uuid:"+a.assertionQueries[d].uuid));$("#userAnnotationsList").append(g);$("#userAssertionsContainer").show("slow")}var f=[],k=[],h=[];$.each(a.userAssertions,function(a,b){a=$("#userAnnotationTemplate").clone();5E4!=b.code?(a.prop("id","userAnnotation_"+b.uuid),a.find(".issue").text(jQuery.i18n.prop(b.name)),a.find(".user").text(b.userDisplayName),a.find(".comment").text("Comment: "+b.comment),a.find(".userRole").text(null!=b.userRole?b.userRole:
""),a.find(".userEntity").text(null!=b.userEntityName?b.userEntityName:""),a.find(".created").text("Date created: "+moment(b.created,"YYYY-MM-DDTHH:mm:ssZ").format("YYYY-MM-DD HH:mm:ss")),null!=b.userRole&&a.find(".userRole").text(", "+b.userRole),null!=b.userEntityName&&a.find(".userEntity").text(", "+b.userEntityName),OCC_REC.userId==b.userId?(a.find(".deleteAnnotation").css({display:"block"}),a.find(".deleteAnnotation").attr("id",b.uuid)):a.find(".deleteAnnotation").css({display:"none"}),a.find(".verifyAnnotation").css({display:"block"}),
a.find(".verifyAnnotation").attr("id","verifyAnnotations_"+b.uuid),a.find(".verifications").hide(),$("#userAnnotationsList").append(a)):(f.push(b),0>k.indexOf(b.relatedUuid)&&k.push(b.relatedUuid))});for(var b=f.sort(compareModifiedDate),d=0;d<b.length;d++){g=$("#userVerificationTemplate").clone();g.prop("id","userVerificationAnnotation_"+b[d].uuid);var c=jQuery.i18n.prop("user_assertions."+b[d].qaStatus);g.find(".qaStatus").text(c);g.find(".comment").text(b[d].comment);g.find(".userDisplayName").text(b[d].userDisplayName);
g.find(".created").text(moment(b[d].created,"YYYY-MM-DDTHH:mm:ssZ").format("YYYY-MM-DD HH:mm:ss"));$("#userAnnotationsList").find("#userAnnotation_"+b[d].relatedUuid+" table.verifications tbody").append(g);$("#userAnnotationsList").find("#userAnnotation_"+b[d].relatedUuid+" table.verifications").show();updateDeleteVerificationEvents(b[d].relatedUuid)}for(d=0;d<k.length;d++)g=$("#userVerificationTemplate").clone(),g.prop("id","userVerificationAnnotationHeader_"+k[d]),g.find(".qaStatus").text("User Verification Status"),
g.find(".comment").text("Comment"),g.find(".userDisplayName").text("Verified By"),g.find(".created").text("Created"),g.find(".deleteVerification").html("Delete this Verification"),g.css({display:"block"}),g.insertAfter("#userAnnotation_"+k[d]+" .userVerificationClass .userVerificationTemplate:first");for(d=0;d<a.userAssertions.length;d++)5E4!=a.userAssertions[d].code&&0>k.indexOf(a.userAssertions[d].uuid)&&h.push(a.userAssertions[d].uuid);updateDeleteEvents(h,k)})}
function updateDeleteVerificationEvents(a){$("#userAnnotation_"+a+" .deleteVerificationButton").off("click");$("#userAnnotation_"+a+" .deleteVerificationButton").on("click",function(a){a.preventDefault();!0===confirm("Are you sure you want to delete this verification ?")&&deleteAssertion(OCC_REC.recordUuid,this.parentElement.parentElement.id.split("_").pop())})}
function updateDeleteEvents(a,d){for(var g=0;g<a.length;g++)$("#userAnnotation_"+a[g]+" .deleteAnnotation").off("click"),$("#userAnnotation_"+a[g]+" .deleteAnnotation").on("click",function(d){d.preventDefault();!0===confirm("Are you sure you want to delete this flagged issue?")&&($("#"+a[g]+" .deleteAssertionSubmitProgress").css({display:"inline"}),deleteAssertion(OCC_REC.recordUuid,a[g]))}),updateVerificationEvents(a[g]);for(g=0;g<d.length;g++)$("#userAnnotation_"+d[g]+" .deleteAnnotationButton").attr("disabled",
"disabled"),$("#userAnnotation_"+d[g]+" .deleteAnnotationButton").attr("title","Unable to delete, as this assertion has a verification"),$("#userAnnotation_"+d[g]+" .deleteAnnotation").off("click"),$("#userAnnotation_"+d[g]+" .deleteAnnotation").on("click",function(a){a.preventDefault()}),updateVerificationEvents(d[g])}
function updateVerificationEvents(a){$("#userAnnotation_"+a+" .verifyAnnotation").off("click");$("#userAnnotation_"+a+" .verifyAnnotation").on("click",function(d){d.preventDefault();$("#verifySpinner").hide();updateConfirmVerificationEvents(OCC_REC.recordUuid,a,OCC_REC.userDisplayName)})}
function updateConfirmVerificationEvents(a,d,g){$(".closeVerify").on("click",function(a){a.preventDefault();$(".verifyAsk").fadeIn();$(".verifyDone").fadeOut()});$(".confirmVerify").off("click");$(".confirmVerify").on("click",function(f){f.preventDefault();$("#verifySpinner").show();f=$("#verifyComment").val();var k=$("#userAssertionStatusSelection").val();if(!f)return alert("Please add a comment"),$("#verifyComment").focus(),$("#verifySpinner").hide(),!1;console.log("Submitting an assertion with userAssertionStatus: "+
k);$.post(OCC_REC.contextPath+"/occurrences/assertions/add",{recordUuid:a,code:"50000",comment:f,userAssertionStatus:k,assertionUuid:d,userId:OCC_REC.userId,userDisplayName:g},function(a){$(".verifyAsk").fadeOut();$(".verifyDone").fadeIn();refreshUserAnnotations()}).error(function(a,b,c){alert("Error verifying record: "+a.responseText)}).complete(function(){$("#verifySpinner").hide()})})}String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)};
var dataQualityDataIsLoaded=!1,dataQualityItems={};function getDataQualityItem(a){dataQualityDataIsLoaded||$.ajax({type:"GET",url:OCC_REC.contextPath+"/dataQuality/allCodes",dataType:"json",success:function(a){a&&a[1]&&$.each(a,function(a,d){dataQualityItems[a]=d})},complete:function(){dataQualityDataIsLoaded=!0},async:!1});if(dataQualityItems[a])return dataQualityItems[a]}"function"!==typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});
function replaceURLWithHTMLLinks(a){return a.replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/i,"<a href='$1'>$1</a>")}var strEncodedAtSign="(SPAM_MAIL@ALA.ORG.AU)";function sendEmail(a){a=a.split(strEncodedAtSign);a=a.join("@");window.location.href="mailto:"+a;event&&(event.cancelBubble=!0);return!1};