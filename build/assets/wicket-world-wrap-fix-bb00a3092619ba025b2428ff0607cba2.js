//# sourceMappingURL=wicket-world-wrap-fix.js.map
L.Util.extend(Wkt.Wkt.prototype.construct,{multipolygon:function(b){var a=this.trunc(this.components),a=this.coordsToLatLngs(a,2);b&&b.translate&&b.translate.x&&(a=Wkt.copyLatLngs(a,b.translate.x));return L.multiPolygon(a,b)},polygon:function(b){var a=this.trunc(this.components),a=this.coordsToLatLngs(a,1);b&&b.translate&&b.translate.x&&(a=Wkt.copyLatLngs(a,b.translate.x));return L.multiPolygon(a,b)}});
Wkt.Wkt.prototype.deconstruct=function(b){var a,f,h,d,e,c;f=function(b){var a,c;c=[];for(a=0;a<b.length;a+=1)if(Wkt.isArray(b[a]))for(var d=f(b[a]),e=0;e<d.length;e+=1)d.hasOwnProperty(e)&&c.push(d[e]);else b[a].lng?c.push({x:b[a].lng,y:b[a].lat}):c.push({x:b[a].x,y:b[a].y});return Wkt.wrap(c)};if(b.constructor===L.Marker||b.constructor===L.marker)return{type:"point",components:[{x:b.getLatLng().lng,y:b.getLatLng().lat}]};if(b.constructor===L.Rectangle||b.constructor===L.rectangle)return c=b.getBounds(),
{type:"multipolygon",components:Wkt.wrap([[{x:c.getSouthWest().lng,y:c.getNorthEast().lat},{x:c.getSouthWest().lng,y:c.getSouthWest().lat},{x:c.getNorthEast().lng,y:c.getSouthWest().lat},{x:c.getNorthEast().lng,y:c.getNorthEast().lat},{x:c.getSouthWest().lng,y:c.getNorthEast().lat}]])};if(b.constructor===L.Polyline||b.constructor===L.polyline)if(d=[],c=b.getLatLngs(),!c[0].equals(c[c.length-1])){for(a=0;a<c.length;a+=1)d.push({x:c[a].lng,y:c[a].lat});return{type:"linestring",components:d}}if(b.constructor===
L.Polygon||b.constructor===L.polygon){e=[];d=[];c=b.getLatLngs();for(a=0;a<b._latlngs.length;a+=1)d.push({x:c[a].lng,y:c[a].lat});d.push({x:c[0].lng,y:c[0].lat});c=f(d);for(var g=0;g<c.length;g+=1)c.hasOwnProperty(g)&&e.push(c[g]);if(b._holes&&0<b._holes.length)for(c=f(b._holes),g=0;g<c.length;g+=1)if(c.hasOwnProperty(g))for(d=c[g],a=0;a<d.length;a++){d[a].push(d[a][0]);for(var k=0;k<e.length;k++)e[k].getBounds().intersects(d[a].getBounds())&&e[k].push(d[a])}return{type:"multipolygon",components:e}}if(b.constructor===
L.MultiPolyline||b.constructor===L.MultiPolygon||b.constructor===L.LayerGroup||b.constructor===L.FeatureGroup){h=[];c=b._layers;for(a in c)c.hasOwnProperty(a)&&(c[a].getLatLngs||c[a].getLatLng)&&h.push(this.deconstruct(c[a]));return{type:function(){switch(b.constructor){case L.MultiPolyline:return"multilinestring";case L.MultiPolygon:return"multipolygon";case L.FeatureGroup:var a,c,d,e;e=d=c=!0;for(a in b._layers)b._layers.hasOwnProperty(a)&&(b._layers[a].constructor!==L.Marker&&(e=!1),b._layers[a].constructor!==
L.Polyline&&(d=!1),b._layers[a].constructor!==L.Polygon&&(c=!1));return e?"multipoint":d?"multilinestring":c?"multipolygon":"geometrycollection";default:return"geometrycollection"}}(),components:function(){var a,b;b=[];for(a=0;a<h.length;a+=1)h[a].components&&b.push(h[a].components);return b}()}}b.constructor===L.Rectangle||b.constructor===L.rectangle?console.log("Deconstruction of L.Circle objects is not yet supported"):console.log("The passed object does not have any recognizable properties.")};
L.Util.extend(Wkt,{copyLatLngs:function(b,a,f){if(b instanceof L.LatLng)return f||(f=0),a||(a=0),new L.LatLng(b.lat+f,b.lng+a);for(var h=[],d=0;d<b.length;d++)h.push(this.copyLatLngs(b[d],a,f));return h},_addSplitPoint:function(b,a,f,h,d,e,c,g){a.x<=Math.max(f.x,h.x)&&a.x>=Math.min(f.x,h.x)&&(a=MAP_VAR.map.containerPointToLatLng(new L.Point(a.x,c*a.x+g)),f=b[d+1][b[d+1].length-1],f.push({x:a.lng,y:a.lat}),f[0].x==a.lng&&b[d+1].push([]),b[e+1][b[e+1].length-1].push({x:a.lng,y:a.lat}))},_isOutOfRange:function(b){for(var a=
!1,f=!1,h=b.length-1;0<=h;h--){var d=b[h];for(j in d)d.hasOwnProperty(j)&&(-180>d[j].x&&(a=!0),180<d[j].x&&(f=!0))}return a||f},_buildMultiPolygonFromWrapRings:function(b){for(var a=[],f=0;f<b.length;f++)for(var h=b[f],d=0;d<h.length;d++){for(var e=h[d],c=[],g=0;g<e.length;g++){for(;-180>e[g].x;)e[g].x+=360;for(;180<e[g].x;)e[g].x-=360;2==f&&180==e[g].x&&(e[g].x=-180);0==f&&-180==e[g].x&&(e[g].x=180);c.push(e[g])}0<c.length&&(c[0].x==c[c.length-1].x&&c[0].y==c[c.length-1].y||c.push(c[0]),a.push([c]))}return a},
_addWrapPointToRings:function(b,a,f,h,d,e){if(-2!=h&&h!=d){var c=(f.y-a.y)/(f.x-a.x),g=f.y-f.x*c;this._addSplitPoint(e,this.wrap_minus,a,f,h,d,c,g);this._addSplitPoint(e,this.wrap_plus,a,f,h,d,c,g)}e[d+1][e[d+1].length-1].push(b)},wrap:function(b){b[0]instanceof Array||(b=[b]);if(this._isOutOfRange(b)){this.wrap_minus=MAP_VAR.map.latLngToContainerPoint(new L.LatLng(-90,-180));this.wrap_plus=MAP_VAR.map.latLngToContainerPoint(new L.LatLng(90,180));var a=[[[]],[[]],[[]]],f,h=-2,d={};for(i in b)if(b.hasOwnProperty(i)){var e=
b[i];for(j in e)if(e.hasOwnProperty(j)){var c=MAP_VAR.map.latLngToContainerPoint(new L.LatLng(e[j].y,e[j].x));f=c.x<this.wrap_minus.x?-1:c.x>this.wrap_plus.x?1:0;this._addWrapPointToRings(e[j],d,c,h,f,a);h=f;d=c}}return this._buildMultiPolygonFromWrapRings(a)}return[b]}});