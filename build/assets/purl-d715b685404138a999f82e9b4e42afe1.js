//# sourceMappingURL=purl.js.map
(function(n){"function"===typeof define&&define.amd?define(n):window.purl=n()})(function(){function n(b,c){b=decodeURI(b);c=t[c?"strict":"loose"].exec(b);b={attr:{},param:{},seg:{}};for(var a=14;a--;)b.attr[u[a]]=c[a]||"";b.param.query=p(b.attr.query);b.param.fragment=p(b.attr.fragment);b.seg.path=b.attr.path.replace(/^\/+|\/+$/g,"").split("/");b.seg.fragment=b.attr.fragment.replace(/^\/+|\/+$/g,"").split("/");b.attr.base=b.attr.host?(b.attr.protocol?b.attr.protocol+"://"+b.attr.host:b.attr.host)+
(b.attr.port?":"+b.attr.port:""):"";return b}function v(b){b=b.tagName;return"undefined"!==typeof b?w[b.toLowerCase()]:b}function q(b,c,a,d){var f=b.shift();if(f){var e=c[a]=c[a]||[];if("]"==f)if(m(e))""!==d&&e.push(d);else if("object"==typeof e){c=b=e;a=[];for(var g in c)c.hasOwnProperty(g)&&a.push(g);b[a.length]=d}else c[a]=[c[a],d];else{~f.indexOf("]")&&(f=f.substr(0,f.length-1));if(!r.test(f)&&m(e))if(0===c[a].length)e=c[a]={};else{g={};for(var k in c[a])g[k]=c[a][k];e=c[a]=g}q(b,e,f,d)}}else m(c[a])?
c[a].push(d):c[a]="object"==typeof c[a]?d:"undefined"==typeof c[a]?d:[c[a],d]}function p(b){return x(String(b).split(/&|;/),function(b,a){try{a=decodeURIComponent(a.replace(/\+/g," "))}catch(l){}var d=a.indexOf("="),f;a:{for(var e=a.length,g,k=0;k<e;++k)if(g=a[k],"]"==g&&(f=!1),"["==g&&(f=!0),"="==g&&!f){f=k;break a}f=void 0}e=a.substr(0,f||d);d=a.substr(f||d,a.length);d=d.substr(d.indexOf("=")+1,d.length);""===e&&(e=a,d="");a=e;if(~a.indexOf("]")){var h=a.split("[");q(h,b,"base",d)}else{if(!r.test(a)&&
m(b.base)){e={};for(h in b.base)e[h]=b.base[h];b.base=e}""!==a&&(h=b.base,e=h[a],"undefined"===typeof e?h[a]=d:m(e)?e.push(d):h[a]=[e,d])}return b},{base:{}}).base}function x(b,c,a){for(var d=0,f=b.length>>0;d<f;)d in b&&(a=c.call(void 0,a,b[d],d,b)),++d;return a}function m(b){return"[object Array]"===Object.prototype.toString.call(b)}function l(b,c){1===arguments.length&&!0===b&&(c=!0,b=void 0);b=b||window.location.toString();return{data:n(b,c||!1),attr:function(a){a=y[a]||a;return"undefined"!==
typeof a?this.data.attr[a]:this.data.attr},param:function(a){return"undefined"!==typeof a?this.data.param.query[a]:this.data.param.query},fparam:function(a){return"undefined"!==typeof a?this.data.param.fragment[a]:this.data.param.fragment},segment:function(a){if("undefined"===typeof a)return this.data.seg.path;a=0>a?this.data.seg.path.length+a:a-1;return this.data.seg.path[a]},fsegment:function(a){if("undefined"===typeof a)return this.data.seg.fragment;a=0>a?this.data.seg.fragment.length+a:a-1;return this.data.seg.fragment[a]}}}
var w={a:"href",img:"src",form:"action",base:"href",script:"src",iframe:"src",link:"href",embed:"src",object:"data"},u="source protocol authority userInfo user password host port relative path directory file query fragment".split(" "),y={anchor:"fragment"},t={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/},
r=/^[0-9]+$/;l.jQuery=function(b){null!=b&&(b.fn.url=function(c){var a="";this.length&&(a=b(this).attr(v(this[0]))||"");return l(a,c)},b.url=l)};l.jQuery(window.jQuery);return l});